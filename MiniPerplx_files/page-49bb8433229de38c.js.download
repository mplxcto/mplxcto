(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{69932:function(e,t,a){Promise.resolve().then(a.bind(a,53751))},53751:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return aH},maxDuration:function(){return aO}});var r=a(66511),s=a(55004),l=a.n(s);a(21276);var n=a(48212),i=a(18995);function d(e){let{className:t,size:a=60,transition:s,delay:l,onAnimationComplete:d,style:o}=e;return(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-[inherit] border border-transparent [mask-clip:padding-box,border-box] [mask-composite:intersect] [mask-image:linear-gradient(transparent,transparent),linear-gradient(#000,#000)]",children:(0,r.jsx)(i.E.div,{className:(0,n.cn)("absolute aspect-square bg-zinc-500",t),style:{width:a,offsetPath:"rect(0 auto auto 0 round ".concat(a,"px)"),...o},animate:{offsetDistance:["0%","100%"]},transition:{...null!=s?s:{repeat:1/0,duration:5,ease:"linear"},delay:l},onAnimationComplete:d})})}var o=a(22965);function c(e){let{children:t,as:a="p",className:s,duration:l=2,spread:d=2}=e,c=i.E.create(a),u=(0,o.useMemo)(()=>t.length*d,[t,d]);return(0,r.jsx)(c,{className:(0,n.cn)("relative inline-block bg-[length:250%_100%,auto] bg-clip-text","text-transparent [--base-color:#a1a1aa] [--base-gradient-color:#000]","[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))] [background-repeat:no-repeat,padding-box]","dark:[--base-color:#71717a] dark:[--base-gradient-color:#ffffff] dark:[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))]",s),initial:{backgroundPosition:"100% center"},animate:{backgroundPosition:"0% center"},transition:{repeat:1/0,duration:l,ease:"linear"},style:{"--spread":"".concat(u,"px"),backgroundImage:"var(--bg), linear-gradient(var(--base-color), var(--base-color))"},children:t})}let u=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...s})});u.displayName="Card";let m=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});m.displayName="CardHeader";let x=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...s})});x.displayName="CardTitle";let h=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});h.displayName="CardDescription";let p=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});p.displayName="CardContent";let g=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});g.displayName="CardFooter";var f=a(16155);let b=(0,f.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",green:"border-transparent bg-green-500/20 hover:bg-green-500/30 text-green-800 rounded-full",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function v(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(b({variant:a}),t),...s})}var j=a(65862),N=a(98492),w=a(54166);function y(e){var t;let{data:a}=e;if(!(null==a?void 0:null===(t=a.data)||void 0===t?void 0:t[0]))return null;let s=a.data[0],l=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"})+" UTC",n=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),i={flightNumber:s.flight.iata,status:(e=>{switch(e.toLowerCase()){case"landed":return"LANDED";case"active":return s.departure.delay?"DELAYED":"DEPARTING ON TIME";default:return"SCHEDULED"}})(s.flight_status),departure:{airport:s.departure.airport,code:s.departure.iata,time:l(s.departure.scheduled),date:n(s.departure.scheduled),terminal:s.departure.terminal||void 0,gate:s.departure.gate||void 0},arrival:{airport:s.arrival.airport,code:s.arrival.iata,time:l(s.arrival.scheduled),date:n(s.arrival.scheduled),terminal:s.arrival.terminal||void 0,gate:s.arrival.gate||void 0},duration:((e,t)=>{let a=new Date(e),r=Math.floor((new Date(t).getTime()-a.getTime())/6e4);if(r<0)return"N/A";let s=Math.floor(r/60),l=r%60;return 0===s?"".concat(l,"m"):"".concat(s,"h ").concat(l,"m")})(s.departure.scheduled,s.arrival.scheduled),lastUpdated:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})};return(0,r.jsx)(u,{className:"w-full max-w-3xl bg-white/50 dark:bg-neutral-900/50 backdrop-blur-sm border-neutral-200/50 dark:border-neutral-800/50 shadow-none",children:(0,r.jsxs)(p,{className:"p-4 md:p-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4 md:gap-0 md:justify-between mb-6 pb-6 border-b border-neutral-200/50 dark:border-neutral-800/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-blue-500/10 dark:bg-blue-500/20 flex items-center justify-center",children:(0,r.jsx)(j.Z,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-bold tracking-tight",children:i.flightNumber}),(0,r.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:s.airline.name})]})]}),(0,r.jsx)(v,{className:"".concat((e=>{switch(e){case"LANDED":case"DEPARTING ON TIME":return"bg-green-100 hover:bg-green-200 text-green-800 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-200";case"DELAYED":return"bg-red-100 hover:bg-red-200 text-red-800 dark:bg-red-900 dark:hover:bg-red-800 dark:text-red-200";default:return"bg-neutral-100 hover:bg-neutral-200 text-neutral-800 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200"}})(i.status)," px-3 py-1 md:px-4 md:py-1.5 text-sm font-medium self-start md:self-aut shadow-none"),children:i.status})]}),(0,r.jsx)("div",{className:"py-4 md:py-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8 md:items-center",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"text-2xl md:text-3xl font-mono font-bold mb-2 truncate",children:i.departure.code}),(0,r.jsxs)("div",{className:"space-y-0.5 md:space-y-1",children:[(0,r.jsx)("p",{className:"font-medium text-sm truncate",children:i.departure.airport}),(0,r.jsx)("p",{className:"text-lg md:text-xl font-bold",children:i.departure.time}),(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:i.departure.date})]})]}),(0,r.jsxs)("div",{className:"hidden md:block flex-1 relative h-[2px] mx-4",children:[(0,r.jsx)("div",{className:"absolute left-0 top-1/2 w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full -translate-y-1/2"}),(0,r.jsx)("div",{className:"w-full h-[2px] border-t-2 border-dotted border-blue-500/50 dark:border-blue-400/50"}),(0,r.jsx)("div",{className:"absolute right-0 top-1/2 w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full -translate-y-1/2"}),(0,r.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 ".concat((e=>{switch(e.toLowerCase()){case"landed":return"right-0";case"active":return"left-1/2 -translate-x-1/2";default:return"left-0"}})(i.status)," transition-all duration-1000"),children:(0,r.jsx)("div",{className:"bg-white dark:bg-neutral-800 p-2 rounded-full border",children:(0,r.jsx)(j.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 transform rotate-45"})})})]}),(0,r.jsxs)("div",{className:"md:hidden relative w-[97%] h-8 flex items-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 h-1 top-1/2 -translate-y-1/2 bg-neutral-100 dark:bg-neutral-800 rounded-full"}),(0,r.jsx)("div",{className:"absolute h-1 top-1/2 -translate-y-1/2 bg-blue-500 rounded-full transition-all duration-1000 ".concat("LANDED"===i.status?"w-full":"DEPARTING ON TIME"===i.status?"w-[5%]":"w-1/2")}),(0,r.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 transition-all duration-1000",style:{left:"LANDED"===i.status?"100%":"DEPARTING ON TIME"===i.status?"5%":"50%",transform:"translate(-50%, -50%)"},children:(0,r.jsx)("div",{className:"bg-white dark:bg-neutral-800 p-1.5 rounded-full border",children:(0,r.jsx)(j.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 transform rotate-45"})})})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 md:text-right",children:[(0,r.jsx)("div",{className:"text-2xl md:text-3xl font-mono font-bold mb-2 truncate",children:i.arrival.code}),(0,r.jsxs)("div",{className:"space-y-0.5 md:space-y-1",children:[(0,r.jsx)("p",{className:"font-medium text-sm truncate",children:i.arrival.airport}),(0,r.jsx)("p",{className:"text-lg md:text-xl font-bold",children:i.arrival.time}),(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:i.arrival.date})]})]})]})}),(0,r.jsxs)("div",{className:"mt-6 md:mt-8 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 bg-neutral-50/50 dark:bg-neutral-800/50 rounded-xl p-4",children:[(0,r.jsxs)("div",{className:"space-y-3 max-w-full",children:[i.departure.terminal&&(0,r.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,r.jsx)(N.Z,{className:"h-4 w-4 flex-shrink-0 text-neutral-500"}),(0,r.jsxs)("span",{className:"text-sm truncate",children:["Terminal ",i.departure.terminal]})]}),i.departure.gate&&(0,r.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,r.jsx)("div",{className:"h-4 w-4 flex-shrink-0 rounded bg-blue-500/10 flex items-center justify-center text-[10px] text-blue-600",children:"G"}),(0,r.jsxs)("span",{className:"text-sm truncate",children:["Gate ",i.departure.gate]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 max-w-full",children:[i.arrival.terminal&&(0,r.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,r.jsx)(N.Z,{className:"h-4 w-4 flex-shrink-0 text-neutral-500"}),(0,r.jsxs)("span",{className:"text-sm truncate",children:["Terminal ",i.arrival.terminal]})]}),i.arrival.gate&&(0,r.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,r.jsx)("div",{className:"h-4 w-4 flex-shrink-0 rounded bg-blue-500/10 flex items-center justify-center text-[10px] text-blue-600",children:"G"}),(0,r.jsxs)("span",{className:"text-sm truncate",children:["Gate ",i.arrival.gate]})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 md:mt-6 flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-3 text-sm text-neutral-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Flight duration: ",i.duration]})]}),(0,r.jsx)("span",{className:"hidden md:inline text-neutral-300",children:"•"}),(0,r.jsxs)("span",{children:["Last updated: ",i.lastUpdated]})]})]})})}var k=a(49762),_=a(13150),C=a(21728),S=a(82008),E=a(55541),T=a(40522),Z=a(17603);let z=(0,f.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),L=o.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:i=!1,...d}=e,o=i?Z.g7:"button";return(0,r.jsx)(o,{className:(0,n.cn)(z({variant:s,size:l,className:a})),ref:t,...d})});function R(){let[e,t]=(0,o.useState)(!1),[a,s]=(0,o.useState)("other"),[l,n]=(0,o.useState)(null);(0,o.useEffect)(()=>{if(localStorage.getItem("installPromptDismissed"))return;let e=navigator.userAgent.toLowerCase(),a=/ipad|iphone|ipod/.test(e)&&!window.MSStream,r=/android/.test(e),l=/chrome/.test(e)&&/google inc/.test(navigator.vendor.toLowerCase());a?s("ios"):r?s("android"):l&&s("chrome"),!window.matchMedia("(display-mode: standalone)").matches&&(window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),n(e),t(!0)}),a&&setTimeout(()=>t(!0),2e3))},[]);let i=()=>{t(!1),localStorage.setItem("installPromptDismissed","true")},d=async()=>{if(l)try{await l.prompt();let e=await l.userChoice;"accepted"===e.outcome&&(t(!1),n(null))}catch(e){console.error("Install prompt error:",e)}};return(0,r.jsx)(k.M,{children:e&&(0,r.jsx)(_.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed top-4 left-4 right-4 z-[100] md:left-auto md:right-4 md:w-96",children:(0,r.jsxs)(u,{className:"p-4 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"font-medium text-xl text-neutral-900 dark:text-neutral-100",children:"Install MiniPerplx"}),(()=>{switch(a){case"ios":return(0,r.jsxs)("p",{className:"text-neutral-600 dark:text-neutral-400",children:["Tap ",(0,r.jsx)(C.Z,{className:"inline h-4 w-4 mx-1"})," and then"," ",(0,r.jsxs)("span",{className:"whitespace-nowrap",children:["“Add to Home Screen” ",(0,r.jsx)(S.Z,{className:"inline h-4 w-4 ml-1"})]})]});case"android":return(0,r.jsxs)("p",{className:"text-neutral-600 dark:text-neutral-400",children:["Tap the menu ",(0,r.jsx)("span",{className:"font-bold",children:"⋮"})," and select “Install app”"]});default:return(0,r.jsxs)("p",{className:"text-neutral-600 dark:text-neutral-400",children:["Install our app for a better experience ",(0,r.jsx)(E.Z,{className:"inline h-4 w-4 ml-1"})]})}})()]}),(0,r.jsxs)(L,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:i,children:[(0,r.jsx)(T.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Dismiss"})]})]}),"ios"!==a&&(0,r.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,r.jsx)(L,{variant:"secondary",size:"sm",onClick:i,children:"Maybe later"}),(0,r.jsx)(L,{size:"sm",onClick:d,children:"Install"})]})]})})})}L.displayName="Button";var A=a(19818),I=a(91172),D=function(e){let{chart:t}=e,{theme:a}=(0,I.F)(),s="dark"===a?"#e5e5e5":"#171717",l="dark"===a?"#404040":"#e5e5e5",n={grid:{top:30,right:8,bottom:28,left:28},legend:{}};if("line"===t.type){let e=t.elements.map(e=>({name:e.label,type:"line",data:e.points.map(e=>[e[0],e[1]])})),i={...n,xAxis:{type:"datetime"===t.x_scale?"time":"category",name:t.x_label,nameLocation:"middle",axisLabel:{color:s,formatter:e=>"datetime"===t.x_scale?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):t.x_unit?"".concat(e).concat(t.x_unit):"".concat(e)},axisLine:{lineStyle:{color:l}}},yAxis:{name:t.y_label,nameLocation:"middle",axisLabel:{color:s,formatter:e=>t.y_unit?"".concat(t.y_unit).concat(e):e.toString()},axisLine:{lineStyle:{color:l}}},series:e,tooltip:{trigger:"axis"}};return(0,r.jsx)(u,{className:"w-full bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:(0,r.jsx)(p,{className:"p-6",children:(0,r.jsx)(A.Z,{option:i,style:{height:"400px"},theme:"dark"===a?"dark":void 0})})})}if("bar"===t.type){let e=Object.entries(Object.groupBy(t.elements,e=>{let{group:t}=e;return t})).map(e=>{let[t,a]=e;return{name:t,type:"bar",stack:"total",data:null==a?void 0:a.map(e=>[e.label,e.value])}}),i={...n,xAxis:{type:"category",name:t.x_label,nameLocation:"middle",axisLabel:{color:s},axisLine:{lineStyle:{color:l}}},yAxis:{name:t.y_label,nameLocation:"middle",axisLabel:{color:s,formatter:e=>t.y_unit?"".concat(t.y_unit).concat(e):e.toString()},axisLine:{lineStyle:{color:l}}},series:e,tooltip:{trigger:"axis"}};return(0,r.jsx)(u,{className:"w-full bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:(0,r.jsx)(p,{className:"p-6",children:(0,r.jsx)(A.Z,{option:i,style:{height:"400px"},theme:"dark"===a?"dark":void 0})})})}return null};function P(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-primary/10",t),...a})}var M=a(3159),O=a(98405),F=a.n(O);a(66621),F().accessToken=M.x.NEXT_PUBLIC_MAPBOX_TOKEN||"";let V=e=>{let{center:t,places:a=[],zoom:s=14,onMarkerClick:l}=e,n=(0,o.useRef)(null),i=(0,o.useRef)(null),d=(0,o.useRef)([]);return(0,o.useEffect)(()=>{if(n.current&&!i.current){if(!F().accessToken){console.error("Mapbox access token is not set");return}return i.current=new(F()).Map({container:n.current,style:"mapbox://styles/mapbox/dark-v11",center:[t.lng,t.lat],zoom:s,attributionControl:!1}),i.current.addControl(new(F()).NavigationControl,"top-right"),i.current.addControl(new(F()).AttributionControl({compact:!0}),"bottom-left"),i.current.addControl(new(F()).FullscreenControl,"top-right"),()=>{var e;null===(e=i.current)||void 0===e||e.remove(),i.current=null}}},[t.lat,t.lng,s]),(0,o.useEffect)(()=>{i.current&&i.current.flyTo({center:[t.lng,t.lat],zoom:s,essential:!0,duration:1e3,padding:{top:50,bottom:50,left:50,right:50}})},[t,s]),(0,o.useEffect)(()=>{i.current&&(d.current.forEach(e=>e.remove()),d.current=[],a.forEach(e=>{let t=document.createElement("div");t.className="custom-marker",t.innerHTML='\n        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center shadow-lg transform-gpu transition-transform hover:scale-110">\n          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" viewBox="0 0 20 20" fill="currentColor">\n            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />\n          </svg>\n        </div>\n      ';let a=new(F()).Marker(t).setLngLat([e.location.lng,e.location.lat]).setPopup(new(F()).Popup({offset:25,closeButton:!1}).setHTML('\n          <div class="p-2 min-w-[200px] bg-white dark:bg-neutral-800 m-0">\n            <h3 class="font-semibold text-sm text-neutral-900 dark:text-white">'.concat(e.name,"</h3>\n            ").concat(e.vicinity?'<p class="text-xs mt-1 text-neutral-600 dark:text-neutral-300">'.concat(e.vicinity,"</p>"):"","\n          </div>\n        "))).addTo(i.current);a.getElement().addEventListener("click",()=>{l&&l(e)}),d.current.push(a)}))},[a,l]),(0,r.jsx)("div",{className:"w-full h-[60vh] rounded-t-xl overflow-hidden shadow-lg",children:(0,r.jsx)("div",{ref:n,className:"w-full h-full"})})},Y=()=>(0,r.jsx)(P,{className:"w-full h-64 bg-neutral-200 dark:bg-neutral-700"}),U=e=>{let{title:t,center:a,places:s=[],loading:l=!1}=e;return l?(0,r.jsxs)("div",{className:"my-4",children:[(0,r.jsx)(Y,{}),(0,r.jsx)("p",{children:"Loading map..."})]}):(0,r.jsxs)("div",{className:"my-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:t}),(0,r.jsx)(V,{center:a,places:s})]})};var G=a(31372),B=a(61819),H=a(41107),K=a(49780),q=a(69657);function W(e){let[t,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let r=window.matchMedia(e);r.matches!==t&&a(r.matches);let s=()=>a(r.matches);return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[t,e]),t}var X=a(35963),$=a(41356);let J=X.fC;X.xz;let Q=X.h_;X.x8;let ee=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(X.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});ee.displayName=X.aV.displayName;let et=o.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(Q,{children:[(0,r.jsx)(ee,{}),(0,r.jsxs)(X.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[s,(0,r.jsxs)(X.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)($.Pxu,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});et.displayName=X.VY.displayName;let ea=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(X.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});ea.displayName=X.Dx.displayName,o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(X.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})}).displayName=X.dk.displayName;var er=a(85153);let es=e=>{let{shouldScaleBackground:t=!0,...a}=e;return(0,r.jsx)(er.dy.Root,{shouldScaleBackground:t,...a})};es.displayName="Drawer";let el=er.dy.Trigger,en=er.dy.Portal;er.dy.Close;let ei=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(er.dy.Overlay,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80",a),...s})});ei.displayName=er.dy.Overlay.displayName;let ed=o.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(en,{children:[(0,r.jsx)(ei,{}),(0,r.jsxs)(er.dy.Content,{ref:t,className:(0,n.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",a),...l,children:[(0,r.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),s]})]})});ed.displayName="DrawerContent";let eo=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...a})};eo.displayName="DrawerHeader";let ec=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(er.dy.Title,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});ec.displayName=er.dy.Title.displayName,o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(er.dy.Description,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})}).displayName=er.dy.Description.displayName;var eu=a(90260),em=e=>{var t;let{result:a}=e,[s,l]=(0,o.useState)(!1),n=W("(max-width: 768px)");if(!a.result)return null;let i=a.result,d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),c=e=>"".concat(Math.floor(e/60),"h ").concat(e%60,"m"),u=()=>{var e,t,a;return(0,r.jsxs)("div",{className:"flex flex-col max-h-[80vh] bg-white dark:bg-neutral-950",children:[(0,r.jsxs)("div",{className:"relative w-full aspect-[16/9] sm:aspect-[21/9]",children:[i.backdrop_path?(0,r.jsx)(eu.default,{src:i.backdrop_path,alt:i.title||i.name||"",fill:!0,className:"object-cover opacity-40 sm:opacity-60",priority:!0,unoptimized:!0}):(0,r.jsx)("div",{className:"w-full h-full bg-neutral-200 dark:bg-neutral-800"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-white/90 to-white/70 dark:from-neutral-950 dark:via-neutral-950/90 dark:to-neutral-950/70"}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-3xl font-bold text-black dark:text-white mb-1.5 sm:mb-2",children:i.title||i.name}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-black/90 dark:text-white/90",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(G.Z,{className:"w-4 h-4 text-yellow-400"}),(0,r.jsx)("span",{children:i.vote_average.toFixed(1)})]}),(i.release_date||i.first_air_date)&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(B.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:d(i.release_date||i.first_air_date||"")})]}),(i.runtime||(null===(e=i.episode_run_time)||void 0===e?void 0:e[0]))&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(w.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:c(i.runtime||(null===(t=i.episode_run_time)||void 0===t?void 0:t[0])||0)})]})]})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:i.genres.map(e=>(0,r.jsx)("span",{className:"px-3 py-1 text-sm rounded-full bg-neutral-100 text-black dark:bg-neutral-900 dark:text-white",children:e.name},e.id))}),(0,r.jsx)("p",{className:"text-black/80 dark:text-white/80 text-base sm:text-lg leading-relaxed",children:i.overview}),(null===(a=i.credits)||void 0===a?void 0:a.cast)&&i.credits.cast.length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-black/90 dark:text-white/90",children:"Cast"}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:i.credits.cast.slice(0,i.credits.cast.length).map(e=>(0,r.jsxs)("div",{className:"bg-neutral-100 dark:bg-neutral-900 rounded-lg p-2 space-y-2",children:[e.profile_path?(0,r.jsx)(eu.default,{src:e.profile_path,alt:e.name,width:185,height:185,className:"w-full aspect-square rounded-lg object-cover"}):(0,r.jsx)("div",{className:"w-full aspect-square rounded-lg bg-neutral-200 dark:bg-neutral-800 flex items-center justify-center",children:(0,r.jsx)(H.Z,{className:"w-8 h-8 text-neutral-600 dark:text-neutral-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-black dark:text-white font-medium truncate",children:e.name}),(0,r.jsx)("p",{className:"text-black/60 dark:text-white/60 text-sm truncate",children:e.character})]})]},e.id))})]})]})})]})};return(0,r.jsxs)("div",{className:"my-4",children:[(0,r.jsx)(_.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-neutral-100 dark:bg-neutral-900 rounded-xl overflow-hidden cursor-pointer",onClick:()=>l(!0),children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 p-3 sm:p-4",children:[(0,r.jsx)("div",{className:"w-[120px] sm:w-40 mx-auto sm:mx-0 aspect-[2/3] relative rounded-lg overflow-hidden",children:i.poster_path?(0,r.jsx)(eu.default,{src:i.poster_path,alt:i.title||i.name||"",fill:!0,className:"object-cover"}):(0,r.jsx)("div",{className:"w-full h-full bg-neutral-200 dark:bg-neutral-800 flex items-center justify-center",children:"movie"===i.media_type?(0,r.jsx)(K.Z,{className:"w-8 h-8 text-neutral-600 dark:text-neutral-400"}):(0,r.jsx)(q.Z,{className:"w-8 h-8 text-neutral-600 dark:text-neutral-400"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-black dark:text-white mb-1.5",children:i.title||i.name}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm text-black/80 dark:text-white/80",children:[(0,r.jsx)("span",{className:"capitalize",children:i.media_type}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(G.Z,{className:"w-4 h-4 text-yellow-400"}),(0,r.jsx)("span",{children:i.vote_average.toFixed(1)})]})]})]}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-black/70 dark:text-white/70 line-clamp-2 sm:line-clamp-3",children:i.overview}),(null===(t=i.credits)||void 0===t?void 0:t.cast)&&(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-black/60 dark:text-white/60",children:[(0,r.jsx)("span",{className:"font-medium",children:"Cast: "}),i.credits.cast.slice(0,3).map(e=>e.name).join(", ")]})]})]})}),n?(0,r.jsx)(es,{open:s,onOpenChange:l,children:(0,r.jsx)(ed,{className:"h-[85vh] p-0 font-sans",children:(0,r.jsx)(u,{})})}):(0,r.jsx)(J,{open:s,onOpenChange:l,children:(0,r.jsx)(et,{className:"max-w-3xl p-0 overflow-hidden font-sans",children:(0,r.jsx)(u,{})})})]})},ex=a(84463);let eh=ex.fC,ep=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ex.aV,{ref:t,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...s})});ep.displayName=ex.aV.displayName;let eg=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ex.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...s})});eg.displayName=ex.xz.displayName;let ef=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ex.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});ef.displayName=ex.VY.displayName;var eb=a(65699);let ev=eb.fC,ej=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eb.ck,{ref:t,className:(0,n.cn)("border-b",a),...s})});ej.displayName="AccordionItem";let eN=o.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsx)(eb.h4,{className:"flex",children:(0,r.jsxs)(eb.xz,{ref:t,className:(0,n.cn)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...l,children:[s,(0,r.jsx)($.v4q,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})})});eN.displayName=eb.xz.displayName;let ew=o.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsx)(eb.VY,{ref:t,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,r.jsx)("div",{className:(0,n.cn)("pb-4 pt-0",a),children:s})})});ew.displayName=eb.VY.displayName;var ey=a(31110),ek=a(83215),e_=a(89870),eC=a(51450),eS=a(13802),eE=a(33529);let eT=e=>{let{query:t,count:a,isActive:s}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ey.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm font-medium truncate max-w-[120px]",children:t}),(0,r.jsx)(v,{variant:"secondary",className:s?"dark:bg-white/20 dark:text-white bg-gray-200 text-gray-700":"dark:bg-neutral-800 bg-gray-100",children:a})]})},eZ=e=>{let{result:t,index:a}=e;return(0,r.jsxs)(_.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*a},className:"relative flex flex-col w-[280px] dark:bg-neutral-900 bg-white rounded-xl dark:border-neutral-800 border-gray-200 border overflow-hidden flex-shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg dark:bg-neutral-800 bg-gray-100 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("img",{src:"https://www.google.com/s2/favicons?sz=128&domain=".concat(new URL(t.url).hostname),alt:"",className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-sm font-medium dark:text-neutral-100 text-gray-900 line-clamp-2 leading-tight",children:t.title}),(0,r.jsx)("div",{className:"flex items-center justify-between mt-1",children:(0,r.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs dark:text-neutral-400 text-gray-500 hover:text-gray-700 dark:hover:text-neutral-300 flex items-center gap-1",children:[new URL(t.url).hostname,(0,r.jsx)(ek.Z,{className:"h-3 w-3"})]})})]})]}),(0,r.jsx)("div",{className:"px-3 pb-3",children:(0,r.jsx)("p",{className:"text-sm dark:text-neutral-300 text-gray-600 line-clamp-3 leading-relaxed",children:t.content})}),t.published_date&&(0,r.jsx)("div",{className:"px-3 py-2 mt-auto border-t dark:border-neutral-800 border-gray-200 dark:bg-neutral-900/50 bg-gray-50",children:(0,r.jsxs)("time",{className:"text-xs dark:text-neutral-500 text-gray-500 flex items-center gap-1.5",children:[(0,r.jsx)(B.Z,{className:"h-3 w-3"}),new Date(t.published_date).toLocaleDateString()]})})]})},ez=e=>{let{images:t,onImageClick:a}=e;return(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 p-4",children:t.slice(0,4).map((e,s)=>(0,r.jsxs)(_.E.div,{className:"relative aspect-square rounded-xl overflow-hidden cursor-pointer group",onClick:()=>a(s),whileHover:{scale:1.02},children:[(0,r.jsx)("img",{src:e.url,alt:e.description,className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:(0,r.jsx)("p",{className:"absolute bottom-2 left-2 right-2 text-xs text-white line-clamp-2",children:e.description})}),3===s&&t.length>4&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:(0,r.jsxs)("span",{className:"text-xl font-medium text-white",children:["+",t.length-4]})})]},s))})},eL=e=>{let{searchData:t,topicType:a,onImageClick:s}=e;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(ev,{type:"single",defaultValue:"web-results",collapsible:!0,children:(0,r.jsxs)(ej,{value:"web-results",className:"border-0",children:[(0,r.jsx)(eN,{className:(0,n.cn)("w-full dark:bg-neutral-900 bg-white rounded-xl dark:border-neutral-800 border-gray-200 border px-6 py-4 hover:no-underline transition-all","[&[data-state=open]]:rounded-b-none","[&[data-state=open]]:border-b-0"),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg dark:bg-neutral-800 bg-gray-100",children:(0,r.jsx)(e_.Z,{className:"h-4 w-4 dark:text-neutral-400 text-gray-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"dark:text-neutral-100 text-gray-900 font-medium text-left",children:["Results for ",t.query]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)(v,{variant:"secondary",className:"dark:bg-neutral-800 bg-gray-100 dark:text-neutral-300 text-gray-600",children:a}),(0,r.jsxs)("span",{className:"text-xs dark:text-neutral-500 text-gray-500",children:[t.results.length," results"]})]})]})]})}),(0,r.jsx)(ew,{className:"dark:bg-neutral-900 bg-white dark:border-neutral-800 border-gray-200 border border-t-0 rounded-b-xl",children:(0,r.jsx)("div",{className:"flex overflow-x-auto gap-3 p-3 no-scrollbar",children:t.results.map((e,t)=>(0,r.jsx)(eZ,{result:e,index:t},t))})})]})}),t.images.length>0&&(0,r.jsxs)("div",{className:"dark:bg-neutral-900 bg-white rounded-xl dark:border-neutral-800 border-gray-200 border",children:[(0,r.jsx)("div",{className:"p-4 border-b dark:border-neutral-800 border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(eC.Z,{className:"h-5 w-5 dark:text-neutral-400 text-gray-500"}),(0,r.jsx)("h3",{className:"dark:text-neutral-100 text-gray-900 font-medium",children:"Related Images"})]})}),(0,r.jsx)(ez,{images:t.images,onImageClick:s})]})]})};var eR=e=>{let{result:t,args:a}=e,[s,l]=(0,o.useState)("0"),[n,i]=(0,o.useState)(!1),[d,c]=(0,o.useState)(0),[u,m]=(0,o.useState)(0);return t?(0,r.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,r.jsxs)(eh,{value:s,onValueChange:l,className:"w-full",children:[(0,r.jsx)("div",{className:"relative w-full",children:(0,r.jsx)("div",{className:"w-full overflow-y-scroll",children:(0,r.jsx)(ep,{className:"inline-flex h-auto gap-2 dark:bg-inherit bg-white p-0 m-0",children:t.searches.map((e,t)=>(0,r.jsx)(eg,{value:t.toString(),className:"flex-shrink-0 px-3 py-2 rounded-xl !shadow-none border transition-all data-[state=active]:dark:bg-neutral-800 data-[state=active]:border-neutral-400 data-[state=active]:text-gray-900 data-[state=active]:dark:text-white text-gray-400 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-200",children:(0,r.jsx)(eT,{query:e.query,count:e.results.length,isActive:s===t.toString()})},t))})})}),(0,r.jsx)(k.M,{children:t.searches.map((e,t)=>(0,r.jsx)(ef,{value:t.toString(),children:(0,r.jsx)(eL,{searchData:e,topicType:a.topics[t]||a.topics[0],onImageClick:e=>{c(t),m(e),i(!0)}})},t))})]}),n&&t.searches[d].images&&(0,r.jsxs)(J,{open:n,onOpenChange:i,children:[(0,r.jsx)(ea,{className:"sr-only",children:"Image Gallery"}),(0,r.jsx)(et,{className:"max-w-3xl max-h-[85vh] p-0 dark:bg-neutral-900 bg-white dark:border-neutral-800 border-gray-200 !font-sans",children:(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsxs)("div",{className:"absolute right-3 top-3 z-50 flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"px-2 py-1 rounded-md dark:bg-neutral-800 bg-gray-100 text-xs dark:text-neutral-300 text-gray-600",children:[u+1," / ",t.searches[d].images.length]}),(0,r.jsx)("button",{onClick:()=>i(!1),className:"p-1.5 rounded-md dark:bg-neutral-800 bg-gray-100 dark:text-neutral-400 text-gray-500 hover:text-gray-700 dark:hover:text-neutral-200",children:(0,r.jsx)(T.Z,{className:"h-3.5 w-3.5"})})]}),(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsx)("img",{src:t.searches[d].images[u].url,alt:t.searches[d].images[u].description,className:"max-h-[70vh] object-contain rounded-md mx-auto p-4"}),t.searches[d].images[u].description&&(0,r.jsx)("div",{className:"absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/80 to-transparent rounded-b-md",children:(0,r.jsx)("p",{className:"text-xs text-white text-center bg-black/50 p-1 rounded",children:t.searches[d].images[u].description})})]}),(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center",children:(0,r.jsx)(L,{variant:"ghost",size:"icon",className:"h-7 w-7 ml-2 dark:bg-neutral-800 bg-gray-100 dark:hover:bg-neutral-700 hover:bg-gray-200",onClick:()=>m(e=>0===e?t.searches[d].images.length-1:e-1),children:(0,r.jsx)(eS.Z,{className:"h-4 w-4"})})}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:(0,r.jsx)(L,{variant:"ghost",size:"icon",className:"h-7 w-7 mr-2 dark:bg-neutral-800 bg-gray-100 dark:hover:bg-neutral-700 hover:bg-gray-200",onClick:()=>m(e=>e===t.searches[d].images.length-1?0:e+1),children:(0,r.jsx)(eE.Z,{className:"h-4 w-4"})})})]})})]})]}):(0,r.jsxs)("div",{className:"flex items-center justify-between w-full dark:bg-neutral-900 bg-white rounded-xl dark:border-neutral-800 border-gray-200 border p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg dark:bg-neutral-800 bg-gray-100",children:(0,r.jsx)(e_.Z,{className:"h-5 w-5 dark:text-neutral-400 text-gray-500 animate-spin"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"dark:text-neutral-100 text-gray-900 font-medium",children:"Running searches..."}),(0,r.jsxs)("span",{className:"text-sm dark:text-neutral-500 text-gray-500",children:["Processing ",a.queries.length," queries"]})]})]}),(0,r.jsxs)(_.E.div,{className:"flex items-center gap-2",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4 dark:text-neutral-400 text-gray-500"}),(0,r.jsx)("div",{className:"flex gap-1",children:[0,1,2].map(e=>(0,r.jsx)(_.E.div,{className:"w-2 h-2 rounded-full dark:bg-neutral-700 bg-gray-300",initial:{opacity:.3},animate:{opacity:1},transition:{repeat:1/0,duration:.8,delay:.2*e,repeatType:"reverse"}},e))})]})]})},eA=a(38394),eI=a(73560),eD=a(14817),eP=a(38607),eM=a(93328),eO=a(59230),eF=a(51966),eV=a(14990);let eY=e=>{var t;let{hours:a,timezone:s}=e,[l,i]=(0,o.useState)(!1),d=(s?eI.ou.now().setZone(s):eI.ou.now()).weekdayLong;if(!(null==a?void 0:a.length))return null;let c=(null===(t=a.find(e=>e.startsWith(d)))||void 0===t?void 0:t.split(": ")[1])||"Closed";return(0,r.jsxs)("div",{className:"mt-4 border-t dark:border-neutral-800",children:[(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation(),i(!l)},className:(0,n.cn)("mt-4 flex items-center gap-2 cursor-pointer transition-colors","text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4 flex-shrink-0"}),(0,r.jsxs)("span",{children:["Today: ",(0,r.jsx)("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:c})]})]}),(0,r.jsx)(L,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),i(!l)},className:"ml-auto p-0 h-8 w-8 hover:bg-neutral-100 dark:hover:bg-neutral-800",children:l?(0,r.jsx)(eD.Z,{className:"h-4 w-4"}):(0,r.jsx)(eP.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)("div",{className:(0,n.cn)("grid transition-all duration-200 overflow-hidden",l?"grid-rows-[1fr] mt-2":"grid-rows-[0fr]"),children:(0,r.jsx)("div",{className:"overflow-hidden",children:(0,r.jsx)("div",{className:"rounded-md border dark:border-neutral-800 divide-y divide-neutral-100 dark:divide-neutral-800 bg-neutral-50 dark:bg-neutral-900",children:a.map((e,t)=>{let[a,s]=e.split(": "),l=a===d;return(0,r.jsxs)("div",{className:(0,n.cn)("flex items-center justify-between py-2 px-3 text-sm rounded-md",l&&"bg-white dark:bg-neutral-800"),children:[(0,r.jsx)("span",{className:(0,n.cn)("font-medium",l?"text-primary":"text-neutral-600 dark:text-neutral-400"),children:a}),(0,r.jsx)("span",{className:(0,n.cn)(l?"font-medium":"text-neutral-600 dark:text-neutral-400"),children:s})]},t)})})})})]})};var eU=e=>{var t,a;let{place:s,onClick:l,isSelected:i=!1,variant:d="list"}=e,[c,m]=(0,o.useState)(!1),x="overlay"===d,h=(e,t)=>{if(!e||!t)return"";let a=Math.floor(parseInt(e)/100),r=parseInt(e)%100;return eI.ou.now().setZone(t).set({hour:a,minute:r}).toFormat("h:mm a")},p=(()=>{if(!s.timezone||void 0===s.is_closed||!s.next_open_close)return null;let e=h(s.next_open_close,s.timezone);return s.is_closed?{text:"Closed \xb7 Opens ".concat(e),color:"red-600 dark:text-red-400"}:{text:"Open \xb7 Closes ".concat(e),color:"green-600 dark:text-green-400"}})(),g=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(null===(a=s.photos)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.medium)&&(0,r.jsxs)("div",{className:"relative w-20 h-20 rounded-md overflow-hidden flex-shrink-0",children:[(0,r.jsx)("img",{src:s.photos[0].medium,alt:s.name,className:"w-full h-full object-cover"}),s.price_level&&(0,r.jsx)("div",{className:"absolute top-0 left-0 bg-black/80 text-white px-2 py-0.5 text-xs font-medium",children:s.price_level})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"font-semibold truncate pr-6",children:s.name}),s.rating&&(0,r.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,r.jsx)(G.Z,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),(0,r.jsx)("span",{className:"font-medium",children:s.rating.toFixed(1)}),s.reviews_count&&(0,r.jsxs)("span",{className:"text-neutral-500",children:["(",s.reviews_count,")"]})]}),p&&(0,r.jsx)("div",{className:"text-sm text-".concat(p.color," mt-1"),children:p.text}),s.vicinity&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:[(0,r.jsx)(eM.Z,{className:"w-4 h-4 mr-1 flex-shrink-0"}),(0,r.jsx)("span",{className:"truncate",children:s.vicinity})]})]})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,r.jsxs)(L,{variant:"default",size:"sm",className:"h-8",onClick:e=>{e.stopPropagation(),window.open("https://www.google.com/maps/dir/?api=1&destination=".concat(s.location.lat,",").concat(s.location.lng),"_blank")},children:[(0,r.jsx)(eO.Z,{className:"w-4 h-4 mr-2"}),"Directions"]}),s.phone&&(0,r.jsxs)(L,{variant:"outline",size:"sm",className:"h-8",onClick:e=>{e.stopPropagation(),window.open("tel:".concat(s.phone),"_blank")},children:[(0,r.jsx)(eF.Z,{className:"w-4 h-4 mr-2"}),"Call"]}),s.website&&(0,r.jsxs)(L,{variant:"outline",size:"sm",className:"h-8",onClick:e=>{e.stopPropagation(),window.open(s.website,"_blank")},children:[(0,r.jsx)(e_.Z,{className:"w-4 h-4 mr-2"}),"Website"]}),s.place_id&&!x&&(0,r.jsxs)(L,{variant:"outline",size:"sm",className:"h-8",onClick:e=>{e.stopPropagation(),window.open("https://www.tripadvisor.com/".concat(s.place_id),"_blank")},children:[(0,r.jsx)(eV.Z,{className:"w-4 h-4 mr-2"}),"More Info"]})]})]})]}),s.hours&&s.hours.length>0&&(0,r.jsx)(eY,{hours:s.hours,timezone:s.timezone})]});return x?(0,r.jsx)("div",{className:"bg-white/95 dark:bg-black/95 backdrop-blur-sm p-4 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-800",onClick:l,children:g}):(0,r.jsx)(u,{onClick:l,className:(0,n.cn)("w-full transition-all duration-200 cursor-pointer p-4","hover:bg-neutral-50 dark:hover:bg-neutral-800",i&&"ring-2 ring-primary"),children:g})};let eG=(0,eA.default)(()=>a.e(322).then(a.bind(a,39322)),{loadableGenerated:{webpack:()=>[39322]},ssr:!1});var eB=e=>{let{center:t,places:a,type:s}=e,[l,i]=(0,o.useState)("map"),[d,c]=(0,o.useState)(null);return(0,r.jsxs)("div",{className:"relative w-full h-[70vh] bg-white dark:bg-neutral-900 rounded-lg overflow-hidden border border-neutral-200 dark:border-neutral-800",children:[(0,r.jsx)(v,{variant:"secondary",className:"absolute top-4 left-4 z-10",children:"Beta"}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 z-10 flex rounded-full bg-white dark:bg-black border border-neutral-200 dark:border-neutral-700 p-0.5 shadow-lg",children:[(0,r.jsx)("button",{onClick:()=>i("list"),className:(0,n.cn)("px-4 py-1 rounded-full text-sm font-medium transition-colors","list"===l?"bg-black dark:bg-white text-white dark:text-black":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white"),children:"List"}),(0,r.jsx)("button",{onClick:()=>i("map"),className:(0,n.cn)("px-4 py-1 rounded-full text-sm font-medium transition-colors","map"===l?"bg-black dark:bg-white text-white dark:text-black":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white"),children:"Map"})]}),(0,r.jsxs)("div",{className:(0,n.cn)("w-full h-full flex flex-col","list"===l?"divide-y divide-neutral-200 dark:divide-neutral-800":""),children:[(0,r.jsxs)("div",{className:(0,n.cn)("w-full transition-all duration-300","map"===l?"h-full":"h-[40%]"),children:[(0,r.jsx)(eG,{center:t,places:a,selectedPlace:d,onPlaceSelect:c}),d&&"map"===l&&(0,r.jsx)("div",{className:"absolute left-4 right-4 bottom-4 z-0",children:(0,r.jsx)(eU,{place:d,onClick:()=>{},isSelected:!0,variant:"overlay"})})]}),"list"===l&&(0,r.jsx)("div",{className:"h-[60%] bg-white dark:bg-neutral-900",children:(0,r.jsx)("div",{className:"h-full overflow-y-auto",children:(0,r.jsx)("div",{className:"max-w-3xl mx-auto p-4 space-y-4",children:a.map((e,t)=>(0,r.jsx)(eU,{place:e,onClick:()=>c(e),isSelected:(null==d?void 0:d.place_id)===e.place_id,variant:"list"},t))})})})]})]})},eH=e=>{let{result:t,type:a}=e,[s,l]=(0,o.useState)(null),[n,i]=(0,o.useState)(!1),d=W("(max-width: 768px)"),c=(0,o.useMemo)(()=>n?t.results:t.results.slice(0,d?4:10),[t.results,n,d]),u={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",53:"Thriller",10752:"War",37:"Western",10759:"Action & Adventure",10765:"Sci-Fi & Fantasy",10768:"War & Politics"},m=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short"});return(0,r.jsxs)("div",{className:"w-full my-4 sm:my-6",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between mb-4 sm:mb-6 px-4 sm:px-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:"movie"===a?(0,r.jsx)(K.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-neutral-900 dark:text-neutral-100"}):(0,r.jsx)(q.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-neutral-900 dark:text-neutral-100"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-lg sm:text-xl font-semibold",children:["Trending ","movie"===a?"Movies":"Shows"]}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-neutral-600 dark:text-neutral-400",children:"Top picks for today"})]})]}),(0,r.jsxs)("button",{onClick:()=>i(!n),className:"flex items-center gap-1 text-sm text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100",children:[n?"Show Less":"View All",(0,r.jsx)(eE.Z,{className:"w-4 h-4"})]})]}),(0,r.jsx)("div",{className:"grid ".concat(d?"grid-cols-2 gap-2":"grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4"," px-4 sm:px-0"),children:c.map((e,t)=>(0,r.jsx)(_.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},className:"group cursor-pointer",onClick:()=>l(e),children:(0,r.jsxs)("div",{className:"relative aspect-[2/3] rounded-lg sm:rounded-xl overflow-hidden bg-neutral-100 dark:bg-neutral-800",children:[e.poster_path?(0,r.jsx)("img",{src:e.poster_path,alt:e.title||e.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"movie"===a?(0,r.jsx)(K.Z,{className:"w-8 h-8 text-neutral-400"}):(0,r.jsx)(q.Z,{className:"w-8 h-8 text-neutral-400"})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent  opacity-0 group-hover:opacity-100  transition-opacity duration-300 flex flex-col justify-end p-3 sm:p-4",children:(0,r.jsxs)("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-yellow-400 mb-1.5",children:[(0,r.jsx)(G.Z,{className:"w-3 h-3 sm:w-4 sm:h-4 fill-current"}),(0,r.jsx)("span",{className:"text-xs sm:text-sm font-medium text-white",children:e.vote_average.toFixed(1)})]}),(0,r.jsx)("h3",{className:"text-white text-sm sm:text-base font-medium line-clamp-2 mb-1",children:e.title||e.name}),(0,r.jsx)("p",{className:"text-neutral-300 text-xs sm:text-sm",children:m(e.release_date||e.first_air_date||"")})]})})]})},e.id))}),d&&n&&(0,r.jsx)(es,{open:n,onOpenChange:()=>i(!1),children:(0,r.jsx)(ed,{className:"bg-white dark:bg-neutral-900",children:(0,r.jsxs)("div",{className:"flex flex-col h-[90vh]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold",children:["All Trending ","movie"===a?"Movies":"Shows"]}),(0,r.jsx)("button",{onClick:()=>i(!1),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full",children:(0,r.jsx)(T.Z,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 p-4",children:t.results.map((e,t)=>(0,r.jsx)(_.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},className:"group cursor-pointer",onClick:()=>{l(e),i(!1)},children:(0,r.jsxs)("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden bg-neutral-100 dark:bg-neutral-800",children:[e.poster_path?(0,r.jsx)("img",{src:e.poster_path,alt:e.title||e.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"movie"===a?(0,r.jsx)(K.Z,{className:"w-8 h-8 text-neutral-400"}):(0,r.jsx)(q.Z,{className:"w-8 h-8 text-neutral-400"})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-3",children:(0,r.jsxs)("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-yellow-400 mb-1.5",children:[(0,r.jsx)(G.Z,{className:"w-3 h-3 fill-current"}),(0,r.jsx)("span",{className:"text-xs font-medium text-white",children:e.vote_average.toFixed(1)})]}),(0,r.jsx)("h3",{className:"text-white text-sm font-medium line-clamp-2 mb-1",children:e.title||e.name}),(0,r.jsx)("p",{className:"text-neutral-300 text-xs",children:m(e.release_date||e.first_air_date||"")})]})})]})},e.id))})})]})})}),(0,r.jsx)(()=>{if(!s)return null;let e=(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"relative aspect-[16/9] sm:aspect-[21/9] w-full",children:[s.backdrop_path?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:s.backdrop_path,alt:s.title||s.name,className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"})]}):(0,r.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-neutral-900 to-neutral-800"}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-3xl font-bold text-white line-clamp-2",children:s.title||s.name}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-yellow-400",children:[(0,r.jsx)(G.Z,{className:"w-4 h-4 fill-current"}),(0,r.jsx)("span",{className:"font-medium",children:s.vote_average.toFixed(1)})]}),(s.release_date||s.first_air_date)&&(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-neutral-300",children:[(0,r.jsx)(B.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:m(s.release_date||s.first_air_date||"")})]})]})]})]}),(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:s.genre_ids.map(e=>(0,r.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:u[e]},e))}),(0,r.jsx)("p",{className:"text-neutral-700 dark:text-neutral-300 leading-relaxed",children:s.overview})]})]});return d?(0,r.jsx)(es,{open:!!s,onOpenChange:()=>l(null),children:(0,r.jsx)(ed,{className:"max-h-[85vh] overflow-y-auto",children:e})}):(0,r.jsx)(J,{open:!!s,onOpenChange:()=>l(null),children:(0,r.jsx)(et,{className:"max-w-3xl p-0 overflow-hidden",children:e})})},{})]})},eK=a(51276);let eq=o.createContext(null);function eW(){let e=o.useContext(eq);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let eX=o.forwardRef((e,t)=>{let{orientation:a="horizontal",opts:s,setApi:l,plugins:i,className:d,children:c,...u}=e,[m,x]=(0,eK.Z)({...s,axis:"horizontal"===a?"x":"y"},i),[h,p]=o.useState(!1),[g,f]=o.useState(!1),b=o.useCallback(e=>{e&&(p(e.canScrollPrev()),f(e.canScrollNext()))},[]),v=o.useCallback(()=>{null==x||x.scrollPrev()},[x]),j=o.useCallback(()=>{null==x||x.scrollNext()},[x]),N=o.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),j())},[v,j]);return o.useEffect(()=>{x&&l&&l(x)},[x,l]),o.useEffect(()=>{if(x)return b(x),x.on("reInit",b),x.on("select",b),()=>{null==x||x.off("select",b)}},[x,b]),(0,r.jsx)(eq.Provider,{value:{carouselRef:m,api:x,opts:s,orientation:a||((null==s?void 0:s.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:j,canScrollPrev:h,canScrollNext:g},children:(0,r.jsx)("div",{ref:t,onKeyDownCapture:N,className:(0,n.cn)("relative",d),role:"region","aria-roledescription":"carousel",...u,children:c})})});eX.displayName="Carousel";let e$=o.forwardRef((e,t)=>{let{className:a,...s}=e,{carouselRef:l,orientation:i}=eW();return(0,r.jsx)("div",{ref:l,className:"overflow-hidden",children:(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",a),...s})})});e$.displayName="CarouselContent";let eJ=o.forwardRef((e,t)=>{let{className:a,...s}=e,{orientation:l}=eW();return(0,r.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,n.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"pl-4":"pt-4",a),...s})});eJ.displayName="CarouselItem",o.forwardRef((e,t)=>{let{className:a,variant:s="outline",size:l="icon",...i}=e,{orientation:d,scrollPrev:o,canScrollPrev:c}=eW();return(0,r.jsxs)(L,{ref:t,variant:s,size:l,className:(0,n.cn)("absolute  h-8 w-8 rounded-full","horizontal"===d?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!c,onClick:o,...i,children:[(0,r.jsx)($.Y4O,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}).displayName="CarouselPrevious",o.forwardRef((e,t)=>{let{className:a,variant:s="outline",size:l="icon",...i}=e,{orientation:d,scrollNext:o,canScrollNext:c}=eW();return(0,r.jsxs)(L,{ref:t,variant:s,size:l,className:(0,n.cn)("absolute h-8 w-8 rounded-full","horizontal"===d?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!c,onClick:o,...i,children:[(0,r.jsx)($.LZ3,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Next slide"})]})}).displayName="CarouselNext";var eQ=a(77306);let e0=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,dir:"ltr",...s})});e0.displayName="Textarea";var e1=function(){let[e,t]=(0,o.useState)({width:void 0,height:void 0});return(0,o.useEffect)(()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e},e2=a(9131),e5=a(54327),e4=a(47401);let e3=e4.fC,e8=e4.xz;e4.ZA,e4.Uv,e4.Tr,e4.Ee,o.forwardRef((e,t)=>{let{className:a,inset:s,children:l,...i}=e;return(0,r.jsxs)(e4.fF,{ref:t,className:(0,n.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",a),...i,children:[l,(0,r.jsx)($.XCv,{className:"ml-auto h-4 w-4"})]})}).displayName=e4.fF.displayName,o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(e4.tu,{ref:t,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=e4.tu.displayName;let e6=o.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(e4.Uv,{children:(0,r.jsx)(e4.VY,{ref:t,sideOffset:s,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});e6.displayName=e4.VY.displayName;let e9=o.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(e4.ck,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...l})});e9.displayName=e4.ck.displayName,o.forwardRef((e,t)=>{let{className:a,children:s,checked:l,...i}=e;return(0,r.jsxs)(e4.oC,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(e4.wU,{children:(0,r.jsx)($.nQG,{className:"h-4 w-4"})})}),s]})}).displayName=e4.oC.displayName,o.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(e4.Rk,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(e4.wU,{children:(0,r.jsx)($.jXb,{className:"h-4 w-4 fill-current"})})}),s]})}).displayName=e4.Rk.displayName,o.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(e4.__,{ref:t,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=e4.__.displayName,o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(e4.Z0,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=e4.Z0.displayName;let e7=[{value:"grok-2-1212",label:"Grok 2.0",icon:e2.Z,description:"Most intelligent text model",color:"glossyblack",vision:!1},{value:"grok-2-vision-1212",icon:e5.Z,label:"Grok 2.0 Vision",description:"Most intelligent vision model",color:"offgray",vision:!0}],te=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="transition-colors duration-200",r=t?"!bg-opacity-90 dark:!bg-opacity-90":"";switch(e){case"glossyblack":return t?"".concat(a," ").concat(r," !bg-[#2D2D2D] dark:!bg-[#333333] !text-white hover:!text-white hover:!bg-[#1a1a1a] dark:hover:!bg-[#444444]"):"".concat(a," !text-[#4A4A4A] dark:!text-[#F0F0F0] hover:!text-white hover:!bg-[#1a1a1a] dark:hover:!bg-[#333333]");case"offgray":return t?"".concat(a," ").concat(r," !bg-[#4B5457] dark:!bg-[#707677] !text-white hover:!text-white hover:!bg-[#707677] dark:hover:!bg-[#4B5457]"):"".concat(a," !text-[#5C6366] dark:!text-[#D1D5D6] hover:!text-white hover:!bg-[#707677] dark:hover:!bg-[#4B5457]");default:return t?"".concat(a," ").concat(r," !bg-neutral-500 dark:!bg-neutral-600 !text-white hover:!bg-neutral-600 dark:hover:!bg-neutral-700"):"".concat(a," !text-neutral-700 dark:!text-neutral-300 hover:!bg-neutral-200 dark:hover:!bg-neutral-800/70")}},tt=e=>{let{selectedModel:t,setSelectedModel:a,className:s}=e,l=e7.find(e=>e.value===t)||e7[0],[i,d]=(0,o.useState)(!1);return(0,r.jsxs)(e3,{onOpenChange:d,children:[(0,r.jsx)(e8,{className:(0,n.cn)("flex items-center justify-center w-8 h-8 rounded-full transition-all duration-300",te(l.color,!0),"focus:outline-none focus:ring-2 focus:ring-opacity-50","!focus:ring-".concat(l.color,"-500"),s),children:(0,r.jsx)(l.icon,{className:"w-4 h-4"})}),(0,r.jsx)(e6,{className:"w-[220px] p-1 !font-sans rounded-md shadow-md bg-white dark:bg-neutral-800 ml-4 !mt-0 sm:m-auto !z-[52]",children:e7.map(e=>(0,r.jsxs)(e9,{onSelect:()=>a(e.value),className:(0,n.cn)("flex items-start gap-2 px-2 py-1.5 rounded-md text-xs mb-1 last:mb-0",te(e.color,t===e.value)),children:[(0,r.jsx)(e.icon,{className:(0,n.cn)("w-4 h-4 mt-0.5",t===e.value?"text-white":"text-".concat(e.color,"-500 dark:text-").concat(e.color,"-400"))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold",children:e.label}),(0,r.jsx)("div",{className:"text-xs opacity-70",children:e.description})]})]},e.value))})]})},ta=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{height:t,strokeLinejoin:"round",viewBox:"0 0 16 16",width:t,style:{color:"currentcolor"},children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.70711 1.39644C8.31659 1.00592 7.68342 1.00592 7.2929 1.39644L2.21968 6.46966L1.68935 6.99999L2.75001 8.06065L3.28034 7.53032L7.25001 3.56065V14.25V15H8.75001V14.25V3.56065L12.7197 7.53032L13.25 8.06065L14.3107 6.99999L13.7803 6.46966L8.70711 1.39644Z",fill:"currentColor"})})},tr=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{height:t,viewBox:"0 0 16 16",width:t,style:{color:"currentcolor"},children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3H13V13H3V3Z",fill:"currentColor"})})},ts=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{height:t,strokeLinejoin:"round",viewBox:"0 0 16 16",width:t,style:{color:"currentcolor"},className:"-rotate-45",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8591 1.70735C10.3257 1.70735 9.81417 1.91925 9.437 2.29643L3.19455 8.53886C2.56246 9.17095 2.20735 10.0282 2.20735 10.9222C2.20735 11.8161 2.56246 12.6734 3.19455 13.3055C3.82665 13.9376 4.68395 14.2927 5.57786 14.2927C6.47178 14.2927 7.32908 13.9376 7.96117 13.3055L14.2036 7.06304L14.7038 6.56287L15.7041 7.56321L15.204 8.06337L8.96151 14.3058C8.06411 15.2032 6.84698 15.7074 5.57786 15.7074C4.30875 15.7074 3.09162 15.2032 2.19422 14.3058C1.29682 13.4084 0.792664 12.1913 0.792664 10.9222C0.792664 9.65305 1.29682 8.43592 2.19422 7.53852L8.43666 1.29609C9.07914 0.653606 9.95054 0.292664 10.8591 0.292664C11.7678 0.292664 12.6392 0.653606 13.2816 1.29609C13.9241 1.93857 14.2851 2.80997 14.2851 3.71857C14.2851 4.62718 13.9241 5.49858 13.2816 6.14106L13.2814 6.14133L7.0324 12.3835C7.03231 12.3836 7.03222 12.3837 7.03213 12.3838C6.64459 12.7712 6.11905 12.9888 5.57107 12.9888C5.02297 12.9888 4.49731 12.7711 4.10974 12.3835C3.72217 11.9959 3.50444 11.4703 3.50444 10.9222C3.50444 10.3741 3.72217 9.8484 4.10974 9.46084L4.11004 9.46054L9.877 3.70039L10.3775 3.20051L11.3772 4.20144L10.8767 4.70131L5.11008 10.4612C5.11005 10.4612 5.11003 10.4612 5.11 10.4613C4.98779 10.5835 4.91913 10.7493 4.91913 10.9222C4.91913 11.0951 4.98782 11.2609 5.11008 11.3832C5.23234 11.5054 5.39817 11.5741 5.57107 11.5741C5.74398 11.5741 5.9098 11.5054 6.03206 11.3832L6.03233 11.3829L12.2813 5.14072C12.2814 5.14063 12.2815 5.14054 12.2816 5.14045C12.6586 4.7633 12.8704 4.25185 12.8704 3.71857C12.8704 3.18516 12.6585 2.6736 12.2813 2.29643C11.9041 1.91925 11.3926 1.70735 10.8591 1.70735Z",fill:"currentColor"})})},tl=e=>{let t=e7.find(t=>t.value===e);return(null==t?void 0:t.vision)===!0},tn=e=>{var t;let{attachment:a,onRemove:s,isUploading:l}=e;return(0,r.jsxs)(_.E.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"relative flex items-center bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg p-2 pr-8 gap-2 shadow-sm flex-shrink-0 z-0",children:[l?(0,r.jsx)("div",{className:"w-10 h-10 flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 text-neutral-500 dark:text-neutral-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):"progress"in a?(0,r.jsx)("div",{className:"w-10 h-10 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative w-8 h-8",children:[(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,r.jsx)("circle",{className:"text-neutral-300 dark:text-neutral-600 stroke-current",strokeWidth:"10",cx:"50",cy:"50",r:"40",fill:"transparent"}),(0,r.jsx)("circle",{className:"text-primary stroke-current",strokeWidth:"10",strokeLinecap:"round",cx:"50",cy:"50",r:"40",fill:"transparent",strokeDasharray:"".concat(251.2*a.progress,", 251.2"),transform:"rotate(-90 50 50)"})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-xs font-semibold text-neutral-800 dark:text-neutral-200",children:[Math.round(100*a.progress),"%"]})})]})}):(0,r.jsx)("img",{src:a.url,alt:"Preview of ".concat(a.name),width:40,height:40,className:"rounded-lg h-10 w-10 object-cover"}),(0,r.jsxs)("div",{className:"flex-grow min-w-0",children:[!("progress"in a)&&(0,r.jsx)("p",{className:"text-sm font-medium truncate text-neutral-800 dark:text-neutral-200",children:a.name}),(0,r.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"progress"in a?"Uploading...":(t=a.size)<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB"})]}),(0,r.jsx)(_.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),s()},className:"absolute -top-2 -right-2 p-0.5 m-0 rounded-full bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 shadow-sm hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors z-20",children:(0,r.jsx)(T.Z,{className:"h-4 w-4 text-neutral-500 dark:text-neutral-400"})})]})},ti={web:{bg:"!bg-white hover:!bg-cyan-50 dark:!bg-neutral-900/40 dark:hover:!bg-cyan-950/40",bgHover:"hover:!border-cyan-200 dark:hover:!border-cyan-500/30",bgSelected:"!bg-cyan-50 dark:!bg-cyan-950/40 !border-cyan-500 dark:!border-cyan-400",text:"!text-cyan-600 dark:!text-cyan-400",description:"!text-neutral-600 dark:!text-neutral-500",focus:"focus:!ring-cyan-500 dark:focus:!ring-cyan-400"},academic:{bg:"!bg-white hover:!bg-violet-50 dark:!bg-neutral-900/40 dark:hover:!bg-violet-950/40",bgHover:"hover:!border-violet-200 dark:hover:!border-violet-500/30",bgSelected:"!bg-violet-50 dark:!bg-violet-950/40 !border-violet-500 dark:!border-violet-400",text:"!text-violet-600 dark:!text-violet-400",description:"!text-neutral-600 dark:!text-neutral-500",focus:"focus:!ring-violet-500 dark:focus:!ring-violet-400"},youtube:{bg:"!bg-white hover:!bg-red-50 dark:!bg-neutral-900/40 dark:hover:!bg-red-950/40",bgHover:"hover:!border-red-200 dark:hover:!border-red-500/30",bgSelected:"!bg-red-50 dark:!bg-red-950/40 !border-red-500 dark:!border-red-400",text:"!text-red-600 dark:!text-red-400",description:"!text-neutral-600 dark:!text-neutral-500",focus:"focus:!ring-red-500 dark:focus:!ring-red-400"},x:{bg:"!bg-white hover:!bg-neutral-50 dark:!bg-neutral-900/40 dark:hover:!bg-neutral-800/40",bgHover:"hover:!border-neutral-300 dark:hover:!border-neutral-600/30",bgSelected:"!bg-neutral-50 dark:!bg-neutral-800/40 !border-neutral-500 dark:!border-neutral-400",text:"!text-neutral-900 dark:!text-neutral-100",description:"!text-neutral-600 dark:!text-neutral-500",focus:"focus:!ring-neutral-500 dark:focus:!ring-neutral-400"}},td=e=>{let{selectedGroup:t,onGroupSelect:a}=e;return(0,r.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-1.5 p-0.5",children:n.t.map(e=>{let s=e.icon,l=t===e.id,i=ti[e.id];return(0,r.jsx)("div",{children:(0,r.jsxs)("button",{onClick:()=>a(e),className:(0,n.cn)("w-full flex flex-col gap-2 p-4 rounded-lg cursor-pointer font-sans group/item","transition-all duration-200 relative overflow-hidden","border dark:border-neutral-800 border-neutral-200",i.bg,i.bgHover,l&&(0,n.cn)("ring-1 dark:ring-white/20 ring-black/10","shadow-lg",i.bgSelected,i.focus),i.focus),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(s,{className:(0,n.cn)("h-5 w-5 transition-transform duration-200",i.text,"group-hover/item:scale-110")}),(0,r.jsx)("span",{className:"text-base font-medium transition-colors duration-200 text-neutral-900 dark:text-white",children:e.name})]}),(0,r.jsx)("p",{className:(0,n.cn)("text-sm leading-snug text-left",i.description),children:e.description}),(0,r.jsx)("div",{className:(0,n.cn)("absolute inset-0 opacity-0 group-hover/item:opacity-100","transition-opacity duration-200 pointer-events-none","bg-gradient-to-br from-transparent via-black/[0.02] dark:via-white/[0.02] to-transparent")})]})},e.id)})})},to=e=>{let{selectedGroup:t,onGroupSelect:a}=e;return(0,r.jsx)("div",{className:"grid grid-cols-2 gap-1.5 p-0.5",children:n.t.map(e=>{let s=e.icon,l=t===e.id,i=ti[e.id];return(0,r.jsxs)(e9,{onSelect:()=>a(e),className:(0,n.cn)("flex flex-col gap-2 p-4 rounded-lg cursor-pointer font-sans group/item","transition-all duration-200 relative overflow-hidden",!l&&"border dark:border-neutral-800 border-neutral-200",i.bg,i.bgHover,l&&(0,n.cn)("ring-1 dark:ring-white/20 ring-black/10","shadow-lg",i.bgSelected)),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(s,{className:(0,n.cn)("h-5 w-5 transition-transform duration-200",i.text,"group-hover/item:scale-110")}),(0,r.jsx)("span",{className:"text-base font-medium transition-colors duration-200 text-neutral-900 dark:text-white",children:e.name})]}),(0,r.jsx)("p",{className:(0,n.cn)("text-sm leading-snug text-left",i.description),children:e.description}),(0,r.jsx)("div",{className:(0,n.cn)("absolute inset-0 opacity-0 group-hover/item:opacity-100","transition-opacity duration-200 pointer-events-none","bg-gradient-to-br from-transparent via-black/[0.02] dark:via-white/[0.02] to-transparent")})]},e.id)})})},tc=e=>{let{selectedGroup:t,isOpen:a}=e,s=n.t.find(e=>e.id===t),l=null==s?void 0:s.icon,i=ti[t];return(0,r.jsxs)("div",{className:"flex items-center gap-2 relative z-10",children:[l&&(0,r.jsx)(l,{className:(0,n.cn)("h-4 w-4 transition-transform duration-200",i.text,"group-hover:scale-110")}),(0,r.jsxs)("span",{className:"!text-sm !font-sans !font-medium relative",children:[null==s?void 0:s.name,(0,r.jsx)("span",{className:(0,n.cn)("absolute inset-x-0 -bottom-px h-px transition-all duration-200",a?"scale-x-100":"scale-x-0","bg-neutral-400 dark:bg-white/30","group-hover:scale-x-100")})]}),(0,r.jsx)(eP.Z,{className:(0,n.cn)("h-3 w-3 opacity-50 transition-transform duration-200",a&&"transform rotate-180","group-hover:opacity-100")})]})},tu=e=>{let{selectedGroup:t,onGroupSelect:a}=e,[s,l]=(0,o.useState)(!1),i=W("(min-width: 768px)"),d=e=>{a(e),l(!1)};return i?(0,r.jsxs)(e3,{onOpenChange:l,children:[(0,r.jsx)(e8,{asChild:!0,children:(0,r.jsx)(L,{variant:"ghost",className:(0,n.cn)("h-8 px-3 gap-2 group","transition-all duration-200 font-sans relative","bg-white hover:bg-neutral-50 dark:bg-neutral-900/40 dark:hover:bg-neutral-800/60","border border-neutral-200 dark:border-neutral-800","text-neutral-800 dark:text-white","z-[60]"),children:(0,r.jsx)(tc,{selectedGroup:t,isOpen:s})})}),(0,r.jsx)(e6,{align:"start",sideOffset:8,className:(0,n.cn)("w-[420px] font-sans z-[60] -ml-2 mt-1","border border-neutral-200 dark:border-neutral-800","bg-white dark:bg-neutral-900","shadow-lg rounded-lg"),children:(0,r.jsx)(to,{selectedGroup:t,onGroupSelect:d})})]}):(0,r.jsxs)(es,{open:s,onOpenChange:l,children:[(0,r.jsx)(el,{asChild:!0,children:(0,r.jsx)(L,{variant:"ghost",className:(0,n.cn)("h-8 px-3 gap-2 group","transition-all duration-200 font-sans relative","bg-white hover:bg-neutral-50 dark:bg-neutral-900/40 dark:hover:bg-neutral-800/60","border border-neutral-200 dark:border-neutral-800","text-neutral-800 dark:text-white","z-[60]"),children:(0,r.jsx)(tc,{selectedGroup:t,isOpen:s})})}),(0,r.jsxs)(ed,{className:"z-[60]",children:[(0,r.jsx)(eo,{children:(0,r.jsx)(ec,{className:"text-center font-sans",children:"Select Search Type"})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(td,{selectedGroup:t,onGroupSelect:d})})]})]})};var tm=e=>{let{input:t,setInput:a,attachments:s,setAttachments:l,hasSubmitted:i,setHasSubmitted:d,isLoading:c,handleSubmit:u,fileInputRef:m,inputRef:x,stop:h,messages:p,append:g,selectedModel:f,setSelectedModel:b,resetSuggestedQuestions:v,lastSubmittedQueryRef:j,selectedGroup:N,setSelectedGroup:w}=e,[y,k]=(0,o.useState)([]),{width:_}=e1(),C=(0,o.useRef)(null),[S,E]=(0,o.useState)(!1),T=e=>{e&&requestAnimationFrame(()=>{e.style.height="auto";let t=e.scrollHeight;t=Math.min(Math.max(t,56),400),e.style.height="".concat(t,"px"),e.style.overflowY=t>=400?"auto":"hidden"})},Z=(0,o.useCallback)(e=>{var t;w(e.id),v(),null===(t=x.current)||void 0===t||t.focus()},[w,v,x]),z=async e=>{let t=new FormData;t.append("file",e);try{let e=await fetch("/api/upload",{method:"POST",body:t});if(e.ok)return await e.json();throw Error("Failed to upload file")}catch(e){throw console.error("Error uploading file:",e),eQ.A.error("Failed to upload file, please try again!"),e}},R=(0,o.useCallback)(async e=>{let t=Array.from(e.target.files||[]);if(s.length+t.length>3){eQ.A.error("You can only attach up to ".concat(3," images."));return}k(t.map(e=>e.name));try{let e=t.map(e=>z(e)),a=await Promise.all(e);l(e=>[...e,...a])}catch(e){console.error("Error uploading files!",e),eQ.A.error("Failed to upload one or more files. Please try again.")}finally{k([]),e.target.value=""}},[s,l]),A=e=>{l(t=>t.filter((t,a)=>a!==e))},I=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t.trim()||s.length>0?(d(!0),j.current=t.trim(),u(e,{experimental_attachments:s}),l([]),m.current&&(m.current.value="")):eQ.A.error("Please enter a search query or attach an image.")},[t,s,d,u,l,m,j]),D=(0,o.useCallback)(()=>{if(I({preventDefault:()=>{},stopPropagation:()=>{}}),v(),_&&_>768){var e;null===(e=x.current)||void 0===e||e.focus()}},[I,v,_,x]),P=(0,o.useCallback)(()=>{var e,t;if(s.length>=3){eQ.A.error("You can only attach up to ".concat(3," images."));return}i?null===(e=C.current)||void 0===e||e.click():null===(t=m.current)||void 0===t||t.click()},[s.length,i,m]);return(0,r.jsxs)("div",{className:(0,n.cn)("relative w-full flex flex-col gap-2 rounded-lg transition-all duration-300 !font-sans",null!=i?i:"z-[51]",s.length>0||y.length>0?"bg-gray-100/70 dark:bg-neutral-800 p-1":"bg-transparent"),children:[(0,r.jsx)("input",{type:"file",className:"hidden",ref:m,multiple:!0,onChange:R,accept:"image/*",tabIndex:-1}),(0,r.jsx)("input",{type:"file",className:"hidden",ref:C,multiple:!0,onChange:R,accept:"image/*",tabIndex:-1}),(s.length>0||y.length>0)&&(0,r.jsxs)("div",{className:"flex flex-row gap-2 overflow-x-auto py-2 max-h-32 z-10",children:[s.map((e,t)=>(0,r.jsx)(tn,{attachment:e,onRemove:()=>A(t),isUploading:!1},e.url)),y.map(e=>(0,r.jsx)(tn,{attachment:{url:"",name:e,contentType:"",size:0},onRemove:()=>{},isUploading:!0},e))]}),(0,r.jsxs)("div",{className:"relative rounded-lg bg-neutral-100 dark:bg-neutral-900",children:[(0,r.jsx)(e0,{ref:x,placeholder:i?"Ask a new question...":"Ask a question...",value:t,onChange:e=>{a(e.target.value),T(e.target)},disabled:c,onFocus:()=>{E(!0)},onBlur:()=>{E(!1)},className:(0,n.cn)("min-h-[56px] max-h-[400px] w-full resize-none rounded-lg","overflow-x-hidden","text-base leading-relaxed","bg-neutral-100 dark:bg-neutral-900","border border-neutral-200 dark:border-neutral-700","focus:border-neutral-300 dark:focus:border-neutral-600","text-neutral-900 dark:text-neutral-100","focus:!ring-1 focus:!ring-neutral-300 dark:focus:!ring-neutral-600","px-4 pt-3 pb-5"),rows:3,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),c?eQ.A.error("Please wait for the response to complete!"):D())}}),(0,r.jsxs)("div",{className:(0,n.cn)("absolute bottom-0 inset-x-0 flex justify-between items-center rounded-b-lg p-2","bg-neutral-100 dark:bg-neutral-900","!border !border-t-0 !border-neutral-200 dark:!border-neutral-700",S?"!border-neutral-300 dark:!border-neutral-600":"",c?"!opacity-20 !cursor-not-allowed":""),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[i?null:(0,r.jsx)(tu,{selectedGroup:N,onGroupSelect:Z}),(0,r.jsx)(tt,{selectedModel:f,setSelectedModel:b})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[tl(f)&&(0,r.jsx)(L,{className:"rounded-full p-1.5 h-8 w-8 bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600",onClick:e=>{e.preventDefault(),P()},variant:"outline",disabled:c,children:(0,r.jsx)(ts,{size:14})}),c?(0,r.jsx)(L,{className:"rounded-full p-1.5 h-8 w-8",onClick:e=>{e.preventDefault(),h()},variant:"destructive",children:(0,r.jsx)(tr,{size:14})}):(0,r.jsx)(L,{className:"rounded-full p-1.5 h-8 w-8",onClick:e=>{e.preventDefault(),D()},disabled:0===t.length&&0===s.length||y.length>0,children:(0,r.jsx)(ta,{size:14})})]})]})]})]})},tx=a(48583);let th=tx.fC,tp=tx.xz,tg=o.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:l=4,...i}=e;return(0,r.jsx)(tx.VY,{ref:t,align:s,sideOffset:l,className:(0,n.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})});tg.displayName=tx.VY.displayName;let tf=o.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});tf.displayName="Input";var tb=a(81959);let tv=o.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:l=!0,...i}=e;return(0,r.jsx)(tb.f,{ref:t,decorative:l,orientation:s,className:(0,n.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...i})});tv.displayName=tb.f.displayName;let tj=X.fC,tN=X.xz;X.x8;let tw=X.h_,ty=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(X.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});ty.displayName=X.aV.displayName;let tk=(0,f.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),t_=o.forwardRef((e,t)=>{let{side:a="right",className:s,children:l,...i}=e;return(0,r.jsxs)(tw,{children:[(0,r.jsx)(ty,{}),(0,r.jsxs)(X.VY,{ref:t,className:(0,n.cn)(tk({side:a}),s),...i,children:[(0,r.jsxs)(X.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)($.Pxu,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}),l]})]})});t_.displayName=X.VY.displayName;let tC=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};tC.displayName="SheetHeader";let tS=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(X.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold text-foreground",a),...s})});tS.displayName=X.Dx.displayName,o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(X.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})}).displayName=X.dk.displayName;let tE=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});tE.displayName="Table",o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})}).displayName="TableHeader";let tT=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});tT.displayName="TableBody",o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let tZ=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});tZ.displayName="TableRow",o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}).displayName="TableHead";let tz=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})});tz.displayName="TableCell",o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";var tL=a(22209);let tR=tL.zt,tA=tL.fC,tI=tL.xz,tD=o.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(tL.VY,{ref:t,sideOffset:s,className:(0,n.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})});tD.displayName=tL.VY.displayName;var tP=a(47953),tM=a(34467),tO=a(57038),tF=a(14808),tV=a(32867),tY=a(99344),tU=a(87108),tG=a(30416);let tB={light:"",dark:".dark"},tH=o.createContext(null);function tK(){let e=o.useContext(tH);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let tq=o.forwardRef((e,t)=>{let{id:a,className:s,children:l,config:i,...d}=e,c=o.useId(),u="chart-".concat(a||c.replace(/:/g,""));return(0,r.jsx)(tH.Provider,{value:{config:i},children:(0,r.jsxs)("div",{"data-chart":u,ref:t,className:(0,n.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",s),...d,children:[(0,r.jsx)(tW,{id:u,config:i}),(0,r.jsx)(tP.h,{children:l})]})})});tq.displayName="Chart";let tW=e=>{let{id:t,config:a}=e,s=Object.entries(a).filter(e=>{let[t,a]=e;return a.theme||a.color});return s.length?(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(tB).map(e=>{let[a,r]=e;return"\n".concat(r," [data-chart=").concat(t,"] {\n").concat(s.map(e=>{var t;let[r,s]=e,l=(null===(t=s.theme)||void 0===t?void 0:t[a])||s.color;return l?"  --color-".concat(r,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},tX=tU.u,t$=o.forwardRef((e,t)=>{let{active:a,payload:s,className:l,indicator:i="dot",hideLabel:d=!1,hideIndicator:c=!1,label:u,labelFormatter:m,labelClassName:x,formatter:h,color:p,nameKey:g,labelKey:f}=e,{config:b}=tK(),v=o.useMemo(()=>{var e;if(d||!(null==s?void 0:s.length))return null;let[t]=s,a="".concat(f||t.dataKey||t.name||"value"),l=tJ(b,t,a),i=f||"string"!=typeof u?null==l?void 0:l.label:(null===(e=b[u])||void 0===e?void 0:e.label)||u;return m?(0,r.jsx)("div",{className:(0,n.cn)("font-medium",x),children:m(i,s)}):i?(0,r.jsx)("div",{className:(0,n.cn)("font-medium",x),children:i}):null},[u,m,s,d,x,b,f]);if(!a||!(null==s?void 0:s.length))return null;let j=1===s.length&&"dot"!==i;return(0,r.jsxs)("div",{ref:t,className:(0,n.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",l),children:[j?null:v,(0,r.jsx)("div",{className:"grid gap-1.5",children:s.map((e,t)=>{let a="".concat(g||e.name||e.dataKey||"value"),s=tJ(b,e,a),l=p||e.payload.fill||e.color;return(0,r.jsx)("div",{className:(0,n.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,t,e.payload):(0,r.jsxs)(r.Fragment,{children:[(null==s?void 0:s.icon)?(0,r.jsx)(s.icon,{}):!c&&(0,r.jsx)("div",{className:(0,n.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":j&&"dashed"===i}),style:{"--color-bg":l,"--color-border":l}}),(0,r.jsxs)("div",{className:(0,n.cn)("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[(0,r.jsxs)("div",{className:"grid gap-1.5",children:[j?v:null,(0,r.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,r.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function tJ(e,t,a){if("object"!=typeof t||null===t)return;let r="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,s=a;return a in t&&"string"==typeof t[a]?s=t[a]:r&&a in r&&"string"==typeof r[a]&&(s=r[a]),s in e?e[s]:e[a]}t$.displayName="ChartTooltip",tG.D,o.forwardRef((e,t)=>{let{className:a,hideIcon:s=!1,payload:l,verticalAlign:i="bottom",nameKey:d}=e,{config:o}=tK();return(null==l?void 0:l.length)?(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center justify-center gap-4","top"===i?"pb-3":"pt-3",a),children:l.map(e=>{let t="".concat(d||e.dataKey||"value"),a=tJ(o,e,t);return(0,r.jsxs)("div",{className:(0,n.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==a?void 0:a.icon)&&!s?(0,r.jsx)(a.icon,{}):(0,r.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==a?void 0:a.label]},e.value)})}):null}).displayName="ChartLegend";let tQ=o.memo(e=>{let{result:t}=e,{chartData:a,minTemp:s,maxTemp:l}=(0,o.useMemo)(()=>{let e=Object.values(t.list.map(e=>({date:new Date(1e3*e.dt).toLocaleDateString(),minTemp:Number((e.main.temp_min-273.15).toFixed(1)),maxTemp:Number((e.main.temp_max-273.15).toFixed(1))})).reduce((e,t)=>(e[t.date]?(e[t.date].minTemp=Math.min(e[t.date].minTemp,t.minTemp),e[t.date].maxTemp=Math.max(e[t.date].maxTemp,t.maxTemp)):e[t.date]={...t},e),{})),a=Math.min(...e.map(e=>e.minTemp)),r=Math.max(...e.map(e=>e.maxTemp));return{chartData:e,minTemp:a,maxTemp:r}},[t]),n=(0,o.useMemo)(()=>({minTemp:{label:"Min Temp.",color:"hsl(var(--chart-1))"},maxTemp:{label:"Max Temp.",color:"hsl(var(--chart-2))"}}),[]);return(0,r.jsxs)(u,{className:"my-4 shadow-none bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700",children:[(0,r.jsxs)(m,{children:[(0,r.jsxs)(x,{className:"text-neutral-800 dark:text-neutral-100",children:["Weather Forecast for ",t.city.name]}),(0,r.jsx)(h,{className:"text-neutral-600 dark:text-neutral-400",children:"Showing min and max temperatures for the next 5 days"})]}),(0,r.jsx)(p,{children:(0,r.jsx)(tq,{config:n,children:(0,r.jsx)(tP.h,{width:"100%",height:300,children:(0,r.jsxs)(tM.w,{data:a,margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(tO.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,r.jsx)(tF.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"}),stroke:"#9CA3AF"}),(0,r.jsx)(tV.B,{domain:[Math.floor(s)-2,Math.ceil(l)+2],tickFormatter:e=>"".concat(e,"\xb0C"),stroke:"#9CA3AF"}),(0,r.jsx)(tX,{content:(0,r.jsx)(t$,{})}),(0,r.jsx)(tY.x,{type:"monotone",dataKey:"minTemp",stroke:"var(--color-minTemp)",strokeWidth:2,dot:!1,name:"Min Temp."}),(0,r.jsx)(tY.x,{type:"monotone",dataKey:"maxTemp",stroke:"var(--color-maxTemp)",strokeWidth:2,dot:!1,name:"Max Temp."})]})})})}),(0,r.jsx)(g,{children:(0,r.jsx)("div",{className:"flex w-full items-start gap-2 text-sm",children:(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 font-medium leading-none text-neutral-800 dark:text-neutral-100",children:[t.city.name,", ",t.city.country]}),(0,r.jsx)("div",{className:"flex items-center gap-2 leading-none text-neutral-600 dark:text-neutral-400",children:"Next 5 days forecast"})]})})})]})});tQ.displayName="WeatherChart";var t0=a(32193),t1=a(81407),t2=a(39061),t5=a(77643),t4=a(1656),t3=a(73641),t8=a(54988),t6=a(25076),t9=a(74633),t7=a(87180),ae=a.n(t7),at=a(68023),aa=a(73254),ar=a(63109),as=a(48481),al=a(22790),an=a(49294),ai=a(76006),ad=a(26459),ao=a(16160),ac=a(27323),au=a(53337),am=a(60753),ax=a(18198),ah=a(99264),ap=a(94665),ag=a(59114),af=a(72172),ab=a(10948),av=a(88875),aj=a(68491),aN=a(8142),aw=a(39301),ay=a(27008),ak=a(93530),a_=a(80504),aC=a(18046),aS=a(11990),aE=a(78222),aT=a(81750),aZ=a(72767),az=a(87743),aL=a(22763),aR=a(20699),aA=a(8243);a(1847);var aI=a(719);(0,aI.$)("63a3071117b00b3dd3ff85e3b5f6ef6120dca3c8");var aD=(0,aI.$)("b19e2ee9a8cb882f6b525c5cb73d81f219339c25"),aP=(0,aI.$)("02f6c9f5378dba2b4d6da4f3c9be2b6140f15f0f"),aM=(0,aI.$)("4d83102871d6e7d3c0f632280f2f9757167f6255");let aO=60,aF=e=>{let{icon:t,text:a,color:s}=e,l={red:{background:"bg-red-50 dark:bg-red-950",border:"from-red-200 via-red-500 to-red-200 dark:from-red-400 dark:via-red-500 dark:to-red-700",text:"text-red-500",icon:"text-red-500"},green:{background:"bg-green-50 dark:bg-green-950",border:"from-green-200 via-green-500 to-green-200 dark:from-green-400 dark:via-green-500 dark:to-green-700",text:"text-green-500",icon:"text-green-500"},orange:{background:"bg-orange-50 dark:bg-orange-950",border:"from-orange-200 via-orange-500 to-orange-200 dark:from-orange-400 dark:via-orange-500 dark:to-orange-700",text:"text-orange-500",icon:"text-orange-500"},violet:{background:"bg-violet-50 dark:bg-violet-950",border:"from-violet-200 via-violet-500 to-violet-200 dark:from-violet-400 dark:via-violet-500 dark:to-violet-700",text:"text-violet-500",icon:"text-violet-500"},gray:{background:"bg-neutral-50 dark:bg-neutral-950",border:"from-neutral-200 via-neutral-500 to-neutral-200 dark:from-neutral-400 dark:via-neutral-500 dark:to-neutral-700",text:"text-neutral-500",icon:"text-neutral-500"},blue:{background:"bg-blue-50 dark:bg-blue-950",border:"from-blue-200 via-blue-500 to-blue-200 dark:from-blue-400 dark:via-blue-500 dark:to-blue-700",text:"text-blue-500",icon:"text-blue-500"}}[s];return(0,r.jsxs)(u,{className:"relative w-full h-[100px] my-4 overflow-hidden shadow-none",children:[(0,r.jsx)(d,{className:(0,n.cn)("bg-gradient-to-l",l.border),size:80}),(0,r.jsx)(p,{className:"p-6",children:(0,r.jsx)("div",{className:"relative flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:(0,n.cn)("relative h-10 w-10 rounded-full flex items-center justify-center",l.background),children:[(0,r.jsx)(d,{className:(0,n.cn)("bg-gradient-to-l",l.border),size:40}),(0,r.jsx)(t,{className:(0,n.cn)("h-5 w-5",l.icon)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c,{className:"text-base font-medium",duration:2,children:a}),(0,r.jsx)("div",{className:"flex gap-2",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"h-1.5 rounded-full bg-neutral-200 dark:bg-neutral-700 animate-pulse",style:{width:"".concat(40*Math.random()+20,"px"),animationDelay:"".concat(.2*t,"s")}},t))})]})]})})})]})},aV=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{height:t,strokeLinejoin:"round",viewBox:"0 0 16 16",width:t,style:{color:"currentcolor"},children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1L16 15H0L8 1Z",fill:"currentColor"})})},aY=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{height:t,strokeLinejoin:"round",viewBox:"0 0 24 24",width:t,style:{color:"currentcolor"},children:(0,r.jsx)("path",{d:"m3.005 8.858 8.783 12.544h3.904L6.908 8.858zM6.905 15.825 3 21.402h3.907l1.951-2.788zM16.585 2l-6.75 9.64 1.953 2.79L20.492 2zM17.292 7.965v13.437h3.2V3.395z",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"})})},aU=e=>{var t,a,s,l,i;let{video:d,index:c}=e,[u,m]=(0,o.useState)(!1),[x,h]=(0,o.useState)(!1);return d?(0,r.jsxs)(_.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*c},className:"w-[300px] flex-shrink-0 relative rounded-xl dark:bg-neutral-800/50 bg-gray-50 overflow-hidden",children:[(0,r.jsxs)(aC.default,{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"relative aspect-video block bg-neutral-200 dark:bg-neutral-700",children:[(null===(t=d.details)||void 0===t?void 0:t.thumbnail_url)?(0,r.jsx)("img",{src:d.details.thumbnail_url,alt:(null===(a=d.details)||void 0===a?void 0:a.title)||"Video thumbnail",className:"w-full h-full object-cover",loading:"lazy"}):(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(at.Z,{className:"h-8 w-8 text-neutral-400"})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:(0,r.jsx)(at.Z,{className:"h-12 w-12 text-red-500"})})]}),(0,r.jsxs)("div",{className:"p-4 flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(aC.default,{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"text-base font-medium line-clamp-2 hover:text-red-500 transition-colors dark:text-neutral-100",children:(null===(s=d.details)||void 0===s?void 0:s.title)||"YouTube Video"}),(null===(l=d.details)||void 0===l?void 0:l.author_name)&&(0,r.jsxs)(aC.default,{href:d.details.author_url||d.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 group w-fit",children:[(0,r.jsx)("div",{className:"h-6 w-6 rounded-full bg-red-50 dark:bg-red-950 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(aa.Z,{className:"h-4 w-4 text-red-500"})}),(0,r.jsx)("span",{className:"text-sm text-neutral-600 dark:text-neutral-400 group-hover:text-red-500 transition-colors truncate",children:d.details.author_name})]})]}),(d.timestamps&&(null===(i=d.timestamps)||void 0===i?void 0:i.length)>0||d.captions)&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(tv,{}),d.timestamps&&d.timestamps.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h4",{className:"text-xs font-medium dark:text-neutral-300",children:"Key Moments"}),(0,r.jsx)(L,{variant:"ghost",size:"sm",onClick:()=>m(!u),className:"h-6 px-2 text-xs hover:bg-neutral-100 dark:hover:bg-neutral-800",children:u?"Show Less":"Show All (".concat(d.timestamps.length,")")})]}),(0,r.jsx)("div",{className:(0,n.cn)("space-y-1.5 overflow-hidden transition-all duration-300",u?"max-h-[300px] overflow-y-auto":"max-h-[72px]"),children:d.timestamps.slice(0,u?void 0:3).map((e,t)=>(0,r.jsx)("div",{className:"text-xs dark:text-neutral-400 text-neutral-600 line-clamp-1",children:e},t))})]}),d.captions&&(0,r.jsxs)(r.Fragment,{children:[d.timestamps&&d.timestamps.length>0&&(0,r.jsx)(tv,{}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h4",{className:"text-xs font-medium dark:text-neutral-300",children:"Transcript"}),(0,r.jsx)(L,{variant:"ghost",size:"sm",onClick:()=>h(!x),className:"h-6 px-2 text-xs hover:bg-neutral-100 dark:hover:bg-neutral-800",children:x?"Hide":"Show"})]}),x&&(0,r.jsx)("div",{className:"text-xs dark:text-neutral-400 text-neutral-600 max-h-[200px] overflow-y-auto rounded-md bg-neutral-100 dark:bg-neutral-900 p-3",children:(0,r.jsx)("p",{className:"whitespace-pre-wrap",children:d.captions})})]})]})]})]})]}):null},aG=()=>{let[e]=(0,aS.v1)("query",aS.Oi.withDefault("")),[t]=(0,aS.v1)("q",aS.Oi.withDefault("")),[a]=(0,aS.v1)("model",aS.Oi.withDefault("grok-2-1212")),s=(0,o.useMemo)(()=>({query:e||t,model:a}),[]),i=(0,o.useRef)(s.query),[d,c]=(0,o.useState)(()=>!!s.query),[h,g]=(0,o.useState)(s.model),f=(0,o.useRef)(null),[b,N]=(0,o.useState)([]),[w,C]=(0,o.useState)(!1),[Z,z]=(0,o.useState)(-1),[R,A]=(0,o.useState)([]),P=(0,o.useRef)(null),M=(0,o.useRef)(null),O=(0,o.useRef)(!1),[F,Y]=(0,o.useState)("web"),[G,X]=(0,o.useState)(!1),[Q,ee]=(0,o.useState)(()=>"true"===localStorage.getItem("dismissedSponsor")),ea="trendingQueriesCache",er=()=>{let e=localStorage.getItem(ea);if(!e)return null;let t=JSON.parse(e);return Date.now()-t.timestamp>18e6?(localStorage.removeItem(ea),null):t},{theme:en}=(0,I.F)(),[ei,ex]=(0,o.useState)(!1),[eb,ey]=(0,o.useState)([]),{isLoading:ek,input:eC,messages:eS,setInput:eE,append:eT,handleSubmit:eZ,setMessages:ez,reload:eL,stop:eA}=(0,t6.RJ)({maxSteps:8,body:{model:h,group:F},onFinish:async(e,t)=>{let{finishReason:a}=t;if(console.log("[finish reason]:",a),e.content&&"stop"===a||"length"===a){let t=[...eS,{role:"user",content:i.current},{role:"assistant",content:e.content}],{questions:a}=await aD(t);N(a)}},onError:e=>{console.error("Chat error:",e.cause,e.message),eQ.A.error("An error occurred.",{description:"Oops! An error occurred while processing your request. ".concat(e.message)})}});(0,o.useEffect)(()=>{if(!Q){let e=setTimeout(()=>{X(!0)},3e4);return()=>clearTimeout(e)}},[Q]),(0,o.useEffect)(()=>{O.current||!s.query||eS.length||(O.current=!0,c(!0),console.log("[initial query]:",s.query),eT({content:s.query,role:"user"}))},[s.query,eT,eE,eS.length]),(0,o.useEffect)(()=>{(async()=>{let e=er();if(e){ey(e.data);return}try{let e=await fetch("/api/trending");if(!e.ok)throw Error("Failed to fetch trending queries");let t=await e.json(),a={data:t,timestamp:Date.now()};localStorage.setItem(ea,JSON.stringify(a)),ey(t)}catch(e){console.error("Error fetching trending queries:",e),ey([])}})()},[]);let eI=()=>{let{theme:e,setTheme:t}=(0,I.F)();return(0,r.jsxs)(L,{variant:"ghost",size:"icon",onClick:()=>t("dark"===e?"light":"dark"),className:"bg-transparent hover:bg-neutral-100 dark:hover:bg-neutral-800",children:[(0,r.jsx)(ar.Z,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(as.Z,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})},eO=e=>{let{text:t}=e,[a,s]=(0,o.useState)(!1);return(0,r.jsx)(L,{variant:"ghost",size:"sm",onClick:async()=>{navigator.clipboard&&(await navigator.clipboard.writeText(t),s(!0),setTimeout(()=>s(!1),2e3),eQ.A.success("Copied to clipboard"))},className:"h-8 px-2 text-xs rounded-full",children:a?(0,r.jsx)(al.Z,{className:"h-4 w-4"}):(0,r.jsx)(an.Z,{className:"h-4 w-4"})})},eF=[{id:"1",title:"The Unexpected Collab",images:["https://metwm7frkvew6tn1.public.blob.vercel-storage.com/mplx-changelogs/mplx-collab.jpeg"],content:"\n## **MiniPerplx x Vercel x xAI Collab**\n\nExcited to annouce that MiniPerplx has partnered with Vercel and xAI to bring you the best of AI search experience.\nGrok 2 models are now available for you to try out.\n"}],eY=e=>{let{toolInvocation:t,result:a}=e,[s,l]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null),[d,c]=(0,o.useState)(!1),m=(0,o.useRef)(null),x=(0,o.useRef)(null),h=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=m.current;return()=>{e&&(e.pause(),e.src="")}},[]),(0,o.useEffect)(()=>{n&&m.current&&x.current&&(h.current=new t0.Wave(m.current,x.current),h.current.addAnimation(new h.current.animations.Lines({lineColor:"rgb(203, 113, 93)",lineWidth:2,mirroredY:!0,count:100})))},[n]);let g=async()=>{if(n||d)m.current&&(s?m.current.pause():m.current.play(),l(!s));else{c(!0);try{let{audio:e}=await aP(a.translatedText,"alloy");i(e),c(!1)}catch(e){console.error("Error generating speech:",e),c(!1)}}},f=()=>{m.current&&(m.current.pause(),m.current.currentTime=0,l(!1))};return a?(0,r.jsxs)(u,{className:"w-full my-4 shadow-none bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700",children:[(0,r.jsx)(p,{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"w-full h-24 bg-neutral-100 dark:bg-neutral-700 rounded-lg overflow-hidden",children:(0,r.jsx)("canvas",{ref:x,width:"800",height:"200",className:"w-full h-full"})}),(0,r.jsxs)("div",{className:"flex text-left gap-3 items-center justify-center text-pretty",children:[(0,r.jsx)("div",{className:"flex justify-center space-x-2",children:(0,r.jsx)(L,{onClick:g,disabled:d,variant:"outline",size:"sm",className:"text-xs sm:text-sm w-24 bg-neutral-100 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200",children:d?"Generating...":s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ad.Z,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"})," Pause"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ao.Z,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"})," Play"]})})}),(0,r.jsxs)("div",{className:"text-sm text-neutral-800 dark:text-neutral-200",children:["The phrase ",(0,r.jsx)("span",{className:"font-semibold",children:t.args.text})," translates from ",(0,r.jsx)("span",{className:"font-semibold",children:a.detectedLanguage})," to ",(0,r.jsx)("span",{className:"font-semibold",children:t.args.to})," as ",(0,r.jsx)("span",{className:"font-semibold",children:a.translatedText})," in ",(0,r.jsx)("span",{className:"font-semibold",children:t.args.to}),"."]})]})]})}),n&&(0,r.jsx)("audio",{ref:m,src:n,onPlay:()=>l(!0),onPause:()=>l(!1),onEnded:()=>{l(!1),f()}})]}):(0,r.jsx)(u,{className:"w-full my-4 bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700",children:(0,r.jsx)(p,{className:"flex items-center justify-center h-24",children:(0,r.jsxs)("div",{className:"animate-pulse flex items-center",children:[(0,r.jsx)("div",{className:"h-4 w-4 bg-primary rounded-full mr-2"}),(0,r.jsx)("div",{className:"h-4 w-32 bg-primary rounded"})]})})})},eU=o.memo(e=>{let{result:t}=e,[a,s]=(0,o.useState)(!1),l=(0,o.useMemo)(()=>a?t.table_data:t.table_data.slice(0,3),[a,t.table_data]);return(0,r.jsxs)(u,{className:"w-full my-4 overflow-hidden shadow-sm border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[(0,r.jsx)(m,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0 pb-4 bg-neutral-100 dark:bg-neutral-900",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 w-full",children:[t.image&&(0,r.jsx)("div",{className:"relative w-full sm:w-24 h-40 sm:h-24 rounded-lg overflow-hidden shadow-sm flex-shrink-0",children:(0,r.jsx)("img",{src:t.image,alt:t.title,className:"rounded-lg w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)(x,{className:"text-xl sm:text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-2",children:t.title}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:t.description})]})]})}),(0,r.jsxs)(p,{className:"pt-4",children:[(0,r.jsx)(tE,{children:(0,r.jsx)(tT,{children:l.map((e,t)=>(0,r.jsxs)(tZ,{className:"border-b border-neutral-200 dark:border-neutral-700 last:border-b-0",children:[(0,r.jsx)(tz,{className:"font-medium text-neutral-700 dark:text-neutral-300 w-1/3 py-3 px-2 sm:px-4",children:e.title}),(0,r.jsx)(tz,{className:"text-neutral-600 dark:text-neutral-400 py-3 px-2 sm:px-4",children:e.content})]},t))})}),t.table_data.length>3&&(0,r.jsx)(L,{variant:"ghost",className:"mt-4 w-full text-blue-500 hover:text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:text-blue-300 dark:hover:bg-blue-900 transition-colors duration-200",onClick:()=>s(!a),children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eD.Z,{className:"mr-2 h-4 w-4"})," Show Less"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eP.Z,{className:"mr-2 h-4 w-4"})," Show More"]})})]})]})});eU.displayName="ResultsOverview";let eG=(0,o.useCallback)((e,t)=>{let a=JSON.parse(JSON.stringify(e.args)),s="result"in e?JSON.parse(JSON.stringify(e.result)):null;if("thinking_canvas"===e.toolName)return(0,r.jsx)(u,{className:"my-2 border border-neutral-200 dark:border-neutral-800 shadow-none rounded-xl overflow-hidden",children:(0,r.jsxs)("details",{className:"group [&>summary::-webkit-details-marker]:hidden [&>summary]:list-none",open:!0,children:[(0,r.jsx)("summary",{className:"bg-neutral-50 hover:bg-neutral-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-800 cursor-pointer select-none",children:(0,r.jsxs)(m,{className:"py-2 px-4 flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded-md border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 flex items-center justify-center",children:(0,r.jsx)(ac.Z,{className:"h-4 w-4 text-neutral-600 dark:text-neutral-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(x,{className:"text-sm font-medium",children:a.title}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:[a.content.length," steps"]})]})]}),(0,r.jsx)(eP.Z,{className:"h-5 w-5 text-neutral-500 transition-transform duration-200 ease-in-out group-open:rotate-180"})]})}),(0,r.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:a.content.map((e,t)=>(0,r.jsxs)(_.E.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"group flex items-start gap-3 px-4 py-2.5 hover:bg-neutral-50 dark:hover:bg-neutral-900",children:[(0,r.jsx)("span",{className:"flex-shrink-0 w-5 h-5 rounded border border-neutral-200 dark:border-neutral-800 flex items-center justify-center text-[10px] font-medium text-neutral-500",children:t+1}),(0,r.jsx)("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 leading-normal group-hover:text-neutral-900 dark:group-hover:text-neutral-100",children:e})]},t))})]})});if("find_place"===e.toolName){if(!s)return(0,r.jsx)(aF,{icon:eM.Z,text:"Finding locations...",color:"blue"});let{features:e}=s;return e&&0!==e.length?(0,r.jsxs)(u,{className:"w-full my-4 overflow-hidden bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:[(0,r.jsxs)("div",{className:"relative w-full h-[60vh]",children:[(0,r.jsx)("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:(0,r.jsxs)(v,{variant:"secondary",className:"bg-white/90 dark:bg-black/90 backdrop-blur-sm",children:[e.length," Locations Found"]})}),(0,r.jsx)(V,{center:{lat:e[0].geometry.coordinates[1],lng:e[0].geometry.coordinates[0]},places:e.map(e=>({name:e.name,location:{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]},vicinity:e.formatted_address})),zoom:e.length>1?12:15})]}),(0,r.jsx)("div",{className:"max-h-[300px] overflow-y-auto border-t border-neutral-200 dark:border-neutral-800",children:e.map((t,a)=>{let s="google"===t.source;return(0,r.jsx)("div",{className:(0,n.cn)("p-4",a!==e.length-1&&"border-b border-neutral-200 dark:border-neutral-800"),children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-blue-500/20 to-blue-600/20 flex items-center justify-center",children:"street_address"===t.feature_type||"street"===t.feature_type?(0,r.jsx)(t1.U,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}):"locality"===t.feature_type?(0,r.jsx)(au.Z,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}):(0,r.jsx)(eM.Z,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:t.name}),t.formatted_address&&(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:t.formatted_address}),(0,r.jsx)(v,{variant:"secondary",className:"mt-2",children:t.feature_type.replace(/_/g," ")})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(tR,{children:(0,r.jsxs)(tA,{children:[(0,r.jsx)(tI,{asChild:!0,children:(0,r.jsx)(L,{size:"icon",variant:"outline",onClick:()=>{let e="".concat(t.geometry.coordinates[1],",").concat(t.geometry.coordinates[0]);navigator.clipboard.writeText(e),eQ.A.success("Coordinates copied!")},className:"h-10 w-10",children:(0,r.jsx)(an.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(tD,{children:"Copy Coordinates"})]})}),(0,r.jsx)(tR,{children:(0,r.jsxs)(tA,{children:[(0,r.jsx)(tI,{asChild:!0,children:(0,r.jsx)(L,{size:"icon",variant:"outline",onClick:()=>{let e=s?"https://www.google.com/maps/place/?q=place_id:".concat(t.place_id):"https://www.google.com/maps/search/?api=1&query=".concat(t.geometry.coordinates[1],",").concat(t.geometry.coordinates[0]);window.open(e,"_blank")},className:"h-10 w-10",children:(0,r.jsx)(eV.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(tD,{children:"View in Maps"})]})})]})]})},t.id||a)})})]}):null}if("tmdb_search"===e.toolName)return s?(0,r.jsx)(em,{result:s}):(0,r.jsx)(aF,{icon:K.Z,text:"Discovering entertainment content...",color:"violet"});if("trending_movies"===e.toolName)return s?(0,r.jsx)(eH,{result:s,type:"movie"}):(0,r.jsx)(aF,{icon:K.Z,text:"Loading trending movies...",color:"blue"});if("trending_tv"===e.toolName)return s?(0,r.jsx)(eH,{result:s,type:"tv"}):(0,r.jsx)(aF,{icon:q.Z,text:"Loading trending TV shows...",color:"blue"});if("x_search"===e.toolName){if(!s)return(0,r.jsx)(aF,{icon:t2.S,text:"Searching for latest news...",color:"gray"});let e=()=>(0,r.jsx)("div",{className:"grid gap-4 p-4 sm:max-w-[500px]",children:s.map((e,t)=>(0,r.jsx)(_.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,r.jsx)(aA.t,{id:e.tweetId})},e.tweetId))});return(0,r.jsxs)(u,{className:"w-full my-4 overflow-hidden shadow-none",children:[(0,r.jsx)(m,{className:"pb-2 flex flex-row items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded-full bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center",children:(0,r.jsx)(t2.S,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(x,{children:"Latest from X"}),(0,r.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[s.length," tweets found"]})]})]})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"px-4 pb-2 h-72",children:(0,r.jsx)("div",{className:"flex flex-nowrap overflow-x-auto gap-4 no-scrollbar",children:s.slice(0,3).map((e,t)=>(0,r.jsx)(_.E.div,{className:"w-[min(100vw-2rem,320px)] flex-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,r.jsx)(aA.t,{id:e.tweetId})},e.tweetId))})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-white dark:to-black pointer-events-none"}),(0,r.jsxs)("div",{className:"absolute bottom-0 inset-x-0 flex items-center justify-center pb-4 pt-20 bg-gradient-to-t from-white dark:from-black to-transparent",children:[(0,r.jsx)("div",{className:"hidden sm:block",children:(0,r.jsxs)(tj,{children:[(0,r.jsx)(tN,{asChild:!0,children:(0,r.jsxs)(L,{variant:"outline",className:"gap-2 bg-white dark:bg-black",children:[(0,r.jsx)(t2.S,{className:"h-4 w-4"}),"Show all ",s.length," tweets"]})}),(0,r.jsxs)(t_,{side:"right",className:"w-[400px] sm:w-[600px] overflow-y-auto !p-0 !z-[70]",children:[(0,r.jsx)(tC,{className:"!mt-5 !font-sans",children:(0,r.jsx)(tS,{className:"text-center",children:"All Tweets"})}),(0,r.jsx)(e,{})]})]})}),(0,r.jsx)("div",{className:"block sm:hidden",children:(0,r.jsxs)(es,{children:[(0,r.jsx)(el,{asChild:!0,children:(0,r.jsxs)(L,{variant:"outline",className:"gap-2 bg-white dark:bg-black",children:[(0,r.jsx)(t2.S,{className:"h-4 w-4"}),"Show all ",s.length," tweets"]})}),(0,r.jsxs)(ed,{className:"max-h-[85vh] font-sans",children:[(0,r.jsx)(eo,{children:(0,r.jsx)(ec,{children:"All Tweets"})}),(0,r.jsx)("div",{className:"overflow-y-auto",children:(0,r.jsx)(e,{})})]})]})})]})]})]})}if("youtube_search"===e.toolName)return s?(0,r.jsx)(ev,{type:"single",defaultValue:"videos",collapsible:!0,className:"w-full",children:(0,r.jsxs)(ej,{value:"videos",className:"border-0",children:[(0,r.jsx)(eN,{className:(0,n.cn)("w-full dark:bg-neutral-900 bg-white rounded-xl dark:border-neutral-800 border-gray-200 border px-6 py-4 hover:no-underline transition-all","[&[data-state=open]]:rounded-b-none","[&[data-state=open]]:border-b-0"),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg dark:bg-neutral-800 bg-gray-100",children:(0,r.jsx)(at.Z,{className:"h-4 w-4 text-red-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"dark:text-neutral-100 text-gray-900 font-medium text-left",children:"YouTube Results"}),(0,r.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,r.jsxs)(v,{variant:"secondary",className:"dark:bg-neutral-800 bg-gray-100 dark:text-neutral-300 text-gray-600",children:[s.results.length," videos"]})})]})]})}),(0,r.jsx)(ew,{className:"dark:bg-neutral-900 bg-white dark:border-neutral-800 border-gray-200 border border-t-0 rounded-b-xl",children:(0,r.jsx)("div",{className:"flex overflow-x-auto gap-3 p-3 no-scrollbar",children:s.results.map((e,t)=>(0,r.jsx)(aU,{video:e,index:t},e.videoId))})})]})}):(0,r.jsx)(aF,{icon:at.Z,text:"Searching YouTube videos...",color:"red"});if("academic_search"===e.toolName)return s?(0,r.jsxs)(u,{className:"w-full my-4 overflow-hidden",children:[(0,r.jsx)(m,{className:"pb-2 flex flex-row items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded-xl bg-gradient-to-br from-violet-500/20 to-violet-600/20 flex items-center justify-center backdrop-blur-sm",children:(0,r.jsx)(am.Z,{className:"h-4 w-4 text-violet-600 dark:text-violet-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(x,{children:"Academic Papers"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Found ",s.results.length," papers"]})]})]})}),(0,r.jsx)("div",{className:"px-4 pb-2",children:(0,r.jsx)("div",{className:"flex overflow-x-auto gap-4 no-scrollbar",children:s.results.map((e,t)=>(0,r.jsx)(_.E.div,{className:"w-[400px] flex-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,r.jsxs)("div",{className:"h-[300px] relative group",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-violet-500/20 via-violet-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,r.jsxs)("div",{className:"h-full relative backdrop-blur-sm bg-background/95 dark:bg-neutral-900/95 border border-neutral-200/50 dark:border-neutral-800/50 rounded-xl p-4 flex flex-col transition-all duration-500 group-hover:border-violet-500/20",children:[(0,r.jsx)("h3",{className:"font-semibold text-xl tracking-tight mb-3 line-clamp-2 group-hover:text-violet-500 dark:group-hover:text-violet-400 transition-colors duration-300",children:e.title}),e.author&&(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 text-sm text-muted-foreground bg-neutral-100 dark:bg-neutral-800 rounded-md",children:[(0,r.jsx)(aa.Z,{className:"h-3.5 w-3.5 text-violet-500"}),(0,r.jsx)("span",{className:"line-clamp-1",children:e.author.split(";").slice(0,2).join(", ")+(e.author.split(";").length>2?" et al.":"")})]})}),e.publishedDate&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 text-sm text-muted-foreground bg-neutral-100 dark:bg-neutral-800 rounded-md",children:[(0,r.jsx)(B.Z,{className:"h-3.5 w-3.5 text-violet-500"}),new Date(e.publishedDate).toLocaleDateString()]})}),(0,r.jsxs)("div",{className:"flex-1 relative mb-4 pl-3",children:[(0,r.jsx)("div",{className:"absolute -left-0 top-1 bottom-1 w-[2px] rounded-full bg-gradient-to-b from-violet-500 via-violet-400 to-transparent opacity-50"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-4",children:e.summary})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(L,{variant:"ghost",onClick:()=>window.open(e.url,"_blank"),className:"flex-1 bg-neutral-100 dark:bg-neutral-800 hover:bg-violet-100 dark:hover:bg-violet-900/20 hover:text-violet-600 dark:hover:text-violet-400 group/btn",children:[(0,r.jsx)(ax.Z,{className:"h-4 w-4 mr-2 group-hover/btn:scale-110 transition-transform duration-300"}),"View Paper"]}),e.url.includes("arxiv.org")&&(0,r.jsx)(L,{variant:"ghost",onClick:()=>window.open(e.url.replace("abs","pdf"),"_blank"),className:"bg-neutral-100 dark:bg-neutral-800 hover:bg-violet-100 dark:hover:bg-violet-900/20 hover:text-violet-600 dark:hover:text-violet-400 group/btn",children:(0,r.jsx)(E.Z,{className:"h-4 w-4 group-hover/btn:scale-110 transition-transform duration-300"})})]})]})]})},e.url||t))})})]}):(0,r.jsx)(aF,{icon:am.Z,text:"Searching academic papers...",color:"violet"});if("nearby_search"===e.toolName)return s?(console.log(s),(0,r.jsx)("div",{className:"my-4",children:(0,r.jsx)(eB,{center:s.center,places:s.results,type:a.type})})):(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eM.Z,{className:"h-5 w-5 text-neutral-700 dark:text-neutral-300 animate-pulse"}),(0,r.jsxs)("span",{className:"text-neutral-700 dark:text-neutral-300 text-lg",children:["Finding nearby ",a.type,"..."]})]}),(0,r.jsx)(_.E.div,{className:"flex space-x-1",children:[0,1,2].map(e=>(0,r.jsx)(_.E.div,{className:"w-2 h-2 bg-neutral-400 dark:bg-neutral-600 rounded-full",initial:{opacity:.3},animate:{opacity:1},transition:{repeat:1/0,duration:.8,delay:.2*e,repeatType:"reverse"}},e))})]});if("text_search"===e.toolName){var i,d;if(!s)return(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eM.Z,{className:"h-5 w-5 text-neutral-700 dark:text-neutral-300 animate-pulse"}),(0,r.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300 text-lg",children:"Searching places..."})]}),(0,r.jsx)(_.E.div,{className:"flex space-x-1",children:[0,1,2].map(e=>(0,r.jsx)(_.E.div,{className:"w-2 h-2 bg-neutral-400 dark:bg-neutral-600 rounded-full",initial:{opacity:.3},animate:{opacity:1},transition:{repeat:1/0,duration:.8,delay:.2*e,repeatType:"reverse"}},e))})]});let e=null===(d=s.results[0])||void 0===d?void 0:null===(i=d.geometry)||void 0===i?void 0:i.location;return(0,r.jsx)(U,{title:"Search Results",center:e,places:s.results.map(e=>({name:e.name,location:e.geometry.location,vicinity:e.formatted_address}))})}return"get_weather_data"===e.toolName?s?(0,r.jsx)(tQ,{result:s}):(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ah.Z,{className:"h-5 w-5 text-neutral-700 dark:text-neutral-300 animate-pulse"}),(0,r.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300 text-lg",children:"Fetching weather data..."})]}),(0,r.jsx)("div",{className:"flex space-x-1",children:[0,1,2].map(e=>(0,r.jsx)(_.E.div,{className:"w-2 h-2 bg-neutral-400 dark:bg-neutral-600 rounded-full",initial:{opacity:.3},animate:{opacity:1},transition:{repeat:1/0,duration:.8,delay:.2*e,repeatType:"reverse"}},e))})]}):"programming"===e.toolName?(0,r.jsx)(ev,{type:"single",collapsible:!0,className:"w-full mt-4",children:(0,r.jsxs)(ej,{value:"item-".concat(t),className:"border-none",children:[(0,r.jsx)(eN,{className:"hover:no-underline py-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ap.Z,{className:"h-5 w-5 text-primary"}),(0,r.jsx)("h2",{className:"text-base font-semibold text-neutral-800 dark:text-neutral-200",children:"Programming"})]}),s?(0,r.jsxs)(v,{className:"mr-2 rounded-full bg-green-200 dark:bg-green-900 text-green-800 dark:text-green-200",children:[(0,r.jsx)(al.Z,{className:"h-3 w-3 mr-1"}),"Executed"]}):(0,r.jsxs)(v,{variant:"secondary",className:"mr-2 rounded-full bg-neutral-200 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200",children:[(0,r.jsx)(ag.Z,{className:"h-3 w-3 animate-spin mr-1"}),"Executing"]})]})}),(0,r.jsx)(ew,{children:(0,r.jsxs)("div",{className:"w-full my-2 border border-neutral-200 dark:border-neutral-700 overflow-hidden rounded-md",children:[(0,r.jsxs)("div",{className:"bg-neutral-100 dark:bg-neutral-800 p-2 flex items-center",children:["stock"===a.icon&&(0,r.jsx)(af.Z,{className:"h-5 w-5 text-primary mr-2"}),"default"===a.icon&&(0,r.jsx)(ap.Z,{className:"h-5 w-5 text-primary mr-2"}),"date"===a.icon&&(0,r.jsx)(B.Z,{className:"h-5 w-5 text-primary mr-2"}),"calculation"===a.icon&&(0,r.jsx)(ab.Z,{className:"h-5 w-5 text-primary mr-2"}),(0,r.jsx)("span",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200",children:a.title})]}),(0,r.jsxs)(eh,{defaultValue:"code",className:"w-full",children:[(0,r.jsxs)(ep,{className:"bg-neutral-50 dark:bg-neutral-900 p-0 h-auto shadow-sm rounded-none",children:[(0,r.jsx)(eg,{value:"code",className:"px-4 py-2 text-sm data-[state=active]:bg-white dark:data-[state=active]:bg-neutral-800 data-[state=active]:border-b data-[state=active]:border-blue-500 rounded-none shadow-sm",children:"Code"}),(0,r.jsx)(eg,{value:"output",className:"px-4 py-2 text-sm data-[state=active]:bg-white dark:data-[state=active]:bg-neutral-800 data-[state=active]:border-b data-[state=active]:border-blue-500 rounded-none shadow-sm",children:"Output"}),(null==s?void 0:s.images)&&s.images.length>0&&(0,r.jsx)(eg,{value:"images",className:"px-4 py-2 text-sm data-[state=active]:bg-white dark:data-[state=active]:bg-neutral-800 data-[state=active]:border-b data-[state=active]:border-blue-500 rounded-none shadow-sm",children:"Images"}),(null==s?void 0:s.chart)&&(0,r.jsx)(eg,{value:"visualization",className:"px-4 py-2 text-sm data-[state=active]:bg-white dark:data-[state=active]:bg-neutral-800 data-[state=active]:border-b data-[state=active]:border-blue-500 rounded-none shadow-sm",children:"Visualization"})]}),(0,r.jsx)(ef,{value:"code",className:"p-0 m-0 rounded-none",children:(0,r.jsxs)("div",{className:"jsx-112ee81982161d06 relative",children:[(0,r.jsx)(aZ.Z,{language:"python",style:"light"===en?aL.Z:aR.Z,customStyle:{margin:0,padding:"1rem",fontSize:"0.875rem",borderRadius:0},children:a.code}),(0,r.jsx)(l(),{id:"112ee81982161d06",children:"@media(max-width:640px){.syntax-highlighter.jsx-112ee81982161d06{font-size:.75rem}}"}),(0,r.jsx)("div",{className:"jsx-112ee81982161d06 absolute top-2 right-2",children:(0,r.jsx)(eO,{text:a.code})})]})}),(0,r.jsx)(ef,{value:"output",className:"p-0 m-0 rounded-none",children:(0,r.jsx)("div",{className:"relative bg-white dark:bg-neutral-800 p-4",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("pre",{className:"text-sm text-neutral-800 dark:text-neutral-200",children:(0,r.jsx)("code",{children:s.message})}),(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)(eO,{text:s.message})})]}):(0,r.jsx)("div",{className:"flex items-center justify-center h-20",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ag.Z,{className:"h-5 w-5 text-neutral-400 dark:text-neutral-600 animate-spin"}),(0,r.jsx)("span",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Executing code..."})]})})})}),(null==s?void 0:s.images)&&s.images.length>0&&(0,r.jsx)(ef,{value:"images",className:"p-0 m-0 bg-white dark:bg-neutral-800",children:(0,r.jsx)("div",{className:"space-y-4 p-4",children:s.images.map((e,t)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("h4",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200",children:["Image ",t+1]}),e.url&&""!==e.url.trim()&&(0,r.jsx)(L,{variant:"ghost",size:"sm",className:"p-0 h-8 w-8",onClick:()=>{window.open(e.url+"?download=1","_blank")},children:(0,r.jsx)(E.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:e.url&&""!==e.url.trim()?(0,r.jsx)(eu.default,{src:e.url,alt:"Generated image ".concat(t+1),layout:"fill",objectFit:"contain"}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full bg-neutral-100 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500",children:"Image upload failed or URL is empty"})})]},t))})}),(null==s?void 0:s.chart)&&(0,r.jsx)(ef,{value:"visualization",className:"p-4 m-0 bg-white dark:bg-neutral-800",children:(0,r.jsx)(D,{chart:{type:s.chart.type,title:s.chart.title,x_label:s.chart.x_label,y_label:s.chart.y_label,x_unit:s.chart.x_unit,y_unit:s.chart.y_unit,elements:s.chart.elements}})})]})]})})]})}):"web_search"===e.toolName?(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(eR,{result:s,args:a})}):"retrieve"===e.toolName?s?(0,r.jsxs)("div",{className:"border border-neutral-200 rounded-xl my-4 overflow-hidden dark:border-neutral-800 bg-gradient-to-b from-white to-neutral-50 dark:from-neutral-900 dark:to-neutral-900/90",children:[(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsxs)("div",{className:"relative w-10 h-10 flex-shrink-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent rounded-lg"}),(0,r.jsx)("img",{className:"h-5 w-5 absolute inset-0 m-auto",src:"https://www.google.com/s2/favicons?sz=64&domain_url=".concat(encodeURIComponent(s.results[0].url)),alt:""})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,r.jsx)("h2",{className:"font-semibold text-lg text-neutral-900 dark:text-neutral-100 tracking-tight truncate",children:s.results[0].title}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 line-clamp-2",children:s.results[0].description}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-primary/10 text-primary",children:s.results[0].language||"Unknown"}),(0,r.jsxs)("a",{href:s.results[0].url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs text-neutral-500 hover:text-primary transition-colors",children:[(0,r.jsx)(eV.Z,{className:"h-3 w-3"}),"View source"]})]})]})]})}),(0,r.jsx)("div",{className:"border-t border-neutral-200 dark:border-neutral-800",children:(0,r.jsxs)("details",{className:"group",children:[(0,r.jsxs)("summary",{className:"w-full px-4 py-2 cursor-pointer text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 transition-colors flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)($.VL1,{className:"h-4 w-4 text-neutral-400"}),(0,r.jsx)("span",{children:"View content"})]}),(0,r.jsx)(eP.Z,{className:"h-4 w-4 transition-transform duration-200 group-open:rotate-180"})]}),(0,r.jsx)("div",{className:"max-h-[50vh] overflow-y-auto p-4 bg-neutral-50/50 dark:bg-neutral-800/30",children:(0,r.jsx)("div",{className:"prose prose-neutral dark:prose-invert prose-sm max-w-none",children:(0,r.jsx)(aT.U,{children:s.results[0].content})})})]})})]}):(0,r.jsx)("div",{className:"border border-neutral-200 rounded-xl my-4 p-4 dark:border-neutral-800 bg-gradient-to-b from-white to-neutral-50 dark:from-neutral-900 dark:to-neutral-900/90",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative w-10 h-10",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-primary/10 animate-pulse rounded-lg"}),(0,r.jsx)(e_.Z,{className:"h-5 w-5 text-primary/70 absolute inset-0 m-auto"})]}),(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsx)("div",{className:"h-4 w-36 bg-neutral-200 dark:bg-neutral-800 animate-pulse rounded-md"}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("div",{className:"h-3 w-full bg-neutral-100 dark:bg-neutral-800/50 animate-pulse rounded-md"}),(0,r.jsx)("div",{className:"h-3 w-2/3 bg-neutral-100 dark:bg-neutral-800/50 animate-pulse rounded-md"})]})]})]})}):"text_translate"===e.toolName?(0,r.jsx)(eY,{toolInvocation:e,result:s}):"results_overview"===e.toolName?s?(0,r.jsx)(eU,{result:s}):(0,r.jsx)("div",{className:"flex items-center justify-between w-full",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ag.Z,{className:"h-5 w-5 text-neutral-700 dark:text-neutral-300 animate-spin"}),(0,r.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300 text-lg",children:"Generating overview..."})]})}):"track_flight"===e.toolName?s?s.error?(0,r.jsxs)("div",{className:"text-red-500 dark:text-red-400",children:["Error tracking flight: ",s.error]}):(0,r.jsx)("div",{className:"my-4",children:(0,r.jsx)(y,{data:s})}):(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(j.Z,{className:"h-5 w-5 text-neutral-700 dark:text-neutral-300 animate-pulse"}),(0,r.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300 text-lg",children:"Tracking flight..."})]}),(0,r.jsx)("div",{className:"flex space-x-1",children:[0,1,2].map(e=>(0,r.jsx)(_.E.div,{className:"w-2 h-2 bg-neutral-400 dark:bg-neutral-600 rounded-full",initial:{opacity:.3},animate:{opacity:1},transition:{repeat:1/0,duration:.8,delay:.2*e,repeatType:"reverse"}},e))})]}):null},[eU,en]),eK=e=>{try{return new URL(e),!0}catch(e){return!1}},eq=e=>{let{content:t}=e,[a,s]=(0,o.useState)({}),l=(0,o.useMemo)(()=>Array.from(t.matchAll(/\[([^\]]+)\]\(([^)]+)\)/g)).map(e=>{let[t,a,r]=e;return{text:a,link:r}}),[t]),n=(0,o.useCallback)(async e=>{if(a[e])return a[e];let t=await aM(e);return t&&s(a=>({...a,[e]:t})),t},[a]),i=o.memo(e=>{let{language:t,children:a}=e,[s,l]=(0,o.useState)(!1),{theme:n}=(0,I.F)(),i=(0,o.useCallback)(async()=>{await navigator.clipboard.writeText(a),l(!0),setTimeout(()=>l(!1),2e3)},[a]);return(0,r.jsx)("div",{className:"group my-3",children:(0,r.jsxs)("div",{className:"grid grid-rows-[auto,1fr] rounded-lg border border-neutral-200 dark:border-neutral-800",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[(0,r.jsx)("div",{className:"px-2 py-0.5 text-xs font-medium bg-neutral-100/80 dark:bg-neutral-800/80 text-neutral-500 dark:text-neutral-400 rounded-md border border-neutral-200 dark:border-neutral-700",children:t||"text"}),(0,r.jsx)("button",{onClick:i,className:"\n                                    px-2 py-1.5\n                                    rounded-md text-xs\n                                    transition-colors duration-200\n                                    ".concat(s?"bg-green-500/10 text-green-500":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400","\n                                    opacity-0 group-hover:opacity-100\n                                    hover:bg-neutral-200 dark:hover:bg-neutral-700\n                                    flex items-center gap-1.5\n                                "),"aria-label":s?"Copied!":"Copy code",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(al.Z,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{children:"Copied!"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(an.Z,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{children:"Copy"})]})})]}),(0,r.jsx)("div",{className:"overflow-x-auto ".concat(ae().className),children:(0,r.jsx)(aZ.Z,{language:t||"text",style:"dark"===n?az.pJ:az.vs,showLineNumbers:!0,wrapLines:!0,customStyle:{margin:0,padding:"1.5rem",fontSize:"0.875rem",background:"dark"===n?"#171717":"#ffffff",lineHeight:1.6,borderBottomLeftRadius:"0.5rem",borderBottomRightRadius:"0.5rem"},lineNumberStyle:{minWidth:"2.5em",paddingRight:"1em",color:"dark"===n?"#404040":"#94a3b8",userSelect:"none"},codeTagProps:{style:{color:"dark"===n?"#e5e5e5":"#1e293b",fontFamily:"var(--font-mono)"}},children:a})})]})})},(e,t)=>e.children===t.children&&e.language===t.language);i.displayName="CodeBlock";let d=e=>{let{href:t}=e,[a,s]=(0,o.useState)(null),[l,i]=(0,o.useState)(!1);if(o.useEffect(()=>{i(!0),n(t).then(e=>{s(e),i(!1)})},[t]),l)return(0,r.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,r.jsx)(ag.Z,{className:"h-5 w-5 animate-spin text-neutral-500 dark:text-neutral-400"})});let d=new URL(t).hostname;return(0,r.jsxs)("div",{className:"flex flex-col space-y-2 bg-white dark:bg-neutral-800 rounded-md shadow-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-neutral-100 dark:bg-neutral-700",children:[(0,r.jsx)(eu.default,{src:"https://www.google.com/s2/favicons?domain=".concat(d,"&sz=256"),alt:"Favicon",width:20,height:20,className:"rounded-sm"}),(0,r.jsx)("span",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300 truncate",children:d})]}),(0,r.jsxs)("div",{className:"px-3 pb-3",children:[(0,r.jsx)("h3",{className:"text-base font-semibold text-neutral-800 dark:text-neutral-200 line-clamp-2",children:(null==a?void 0:a.title)||"Untitled"}),(null==a?void 0:a.description)&&(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1 line-clamp-2",children:a.description})]})]})},c=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.jsxs)(th,{children:[(0,r.jsx)(tp,{asChild:!0,children:(0,r.jsx)(aC.default,{href:e,target:"_blank",rel:"noopener noreferrer",className:a?"cursor-help text-sm text-primary py-0.5 px-1.5 m-0 bg-neutral-200 dark:bg-neutral-700 rounded-full no-underline":"text-teal-600 dark:text-teal-400 no-underline hover:underline",children:t})}),(0,r.jsx)(tg,{side:"top",align:"start",className:"w-80 p-0 shadow-lg",children:(0,r.jsx)(d,{href:e})})]})};return(0,r.jsx)("div",{className:"markdown-body dark:text-neutral-200 font-sans",children:(0,r.jsx)(a_.ZP,{renderer:{text:e=>e.includes("$")?(0,r.jsx)(aE.Z,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],children:e}):e,paragraph:e=>"string"==typeof e&&e.includes("$")?(0,r.jsx)("p",{className:"my-4",children:(0,r.jsx)(aE.Z,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],children:e})}):(0,r.jsx)("p",{className:"my-4",children:e}),code:(e,t)=>(0,r.jsx)(i,{language:t,children:String(e)}),link(e,t){let a=l.findIndex(t=>t.link===e);return -1!==a?(0,r.jsx)("sup",{children:c(e,a+1,!0)}):eK(e)?c(e,t):(0,r.jsx)("a",{href:e,className:"text-blue-600 dark:text-blue-400 hover:underline",children:t})},heading:(e,t)=>(0,r.jsx)("h".concat(t),{className:"text-".concat(4-t,"xl font-bold my-4 text-neutral-800 dark:text-neutral-100"),children:e}),list:(e,t)=>(0,r.jsx)(t?"ol":"ul",{className:"list-inside list-disc my-4 pl-4 text-neutral-800 dark:text-neutral-200",children:e}),listItem:e=>(0,r.jsx)("li",{className:"my-2 text-neutral-800 dark:text-neutral-200",children:e}),blockquote:e=>(0,r.jsx)("blockquote",{className:"border-l-4 border-neutral-300 dark:border-neutral-600 pl-4 italic my-4 text-neutral-700 dark:text-neutral-300",children:e})},children:t})})},eW=(0,o.useMemo)(()=>{for(let e=eS.length-1;e>=0;e--)if("user"===eS[e].role)return e;return -1},[eS]);(0,o.useEffect)(()=>{let e=()=>{!(window.innerHeight+window.scrollY<document.body.offsetHeight)&&f.current&&(eS.length>0||b.length>0)&&f.current.scrollIntoView({behavior:"smooth"})};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[eS,b]);let e0=async e=>{let t=e.text;i.current=t,c(!0),N([]),await eT({content:t.trim(),role:"user"})},e1=(0,o.useCallback)(async e=>{c(!0),N([]),await eT({content:e.trim(),role:"user"})},[eT]),e2=(0,o.useCallback)(e=>{C(!0),z(e),eE(eS[e].content)},[eS,eE]),e5=(0,o.useCallback)(e=>{if(e.preventDefault(),eC.trim()){let t=[...eS];t[Z]={...t[Z],content:eC.trim()},ez(t),C(!1),z(-1),eZ(e)}else eQ.A.error("Please enter a valid message.")},[eC,eS,Z,ez,eZ]),e4=e=>{let{trendingQueries:t}=e,[a,s]=(0,o.useState)(!0),l=(0,o.useRef)(null),[n,i]=(0,o.useState)(!1),d=(0,o.useRef)(),[c,u]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{s(!1),u("ontouchstart"in window)},[t]),(0,o.useEffect)(()=>{if(!c)return d.current=setInterval(()=>{l.current&&!n&&(l.current.scrollLeft+=1,l.current.scrollLeft>=l.current.scrollWidth-l.current.clientWidth&&(l.current.scrollLeft=0))},30),()=>{d.current&&clearInterval(d.current)}},[n,c]),a||0===t.length)return(0,r.jsxs)("div",{className:"relative mt-4 px-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:(0,r.jsx)("div",{className:"backdrop-blur-sm bg-white/30 dark:bg-black/30 rounded-xl px-4 h-full py-3 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-neutral-600 h-full dark:text-neutral-300",children:[(0,r.jsx)(ag.Z,{className:"w-4 h-4 animate-spin"}),(0,r.jsx)("span",{children:"Loading trending queries"})]})})}),(0,r.jsx)("div",{className:"flex justify-between",children:[1,2,3].map((e,t)=>(0,r.jsx)("div",{className:"flex-shrink-0 w-[140px] md:w-[220px] bg-neutral-100 dark:bg-neutral-800 rounded-xl p-4 animate-pulse",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 bg-neutral-200 dark:bg-neutral-700 rounded-full"}),(0,r.jsx)("div",{className:"h-4 w-32 bg-neutral-200 dark:bg-neutral-700 rounded"})]})},t))})]});let m=e=>({trending:(0,r.jsx)(af.Z,{className:"w-5 h-5"}),community:(0,r.jsx)(H.Z,{className:"w-5 h-5"}),science:(0,r.jsx)(aj.Z,{className:"w-5 h-5"}),tech:(0,r.jsx)(ap.Z,{className:"w-5 h-5"}),travel:(0,r.jsx)(e_.Z,{className:"w-5 h-5"}),politics:(0,r.jsx)(t5.W,{className:"w-5 h-5"}),health:(0,r.jsx)(av.Z,{className:"w-5 h-5"}),sports:(0,r.jsx)(t4.I,{className:"w-5 h-5"}),finance:(0,r.jsx)(t3.X,{className:"w-5 h-5"}),football:(0,r.jsx)(t8.j,{className:"w-5 h-5"})})[e]||(0,r.jsx)(aN.Z,{className:"w-5 h-5"});return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-background to-transparent z-10"}),(0,r.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-background to-transparent z-10"}),(0,r.jsx)("div",{ref:l,className:"flex gap-4 mt-4 overflow-x-auto pb-4 px-4 md:px-0 relative scroll-smooth no-scrollbar",onMouseEnter:()=>!c&&i(!0),onMouseLeave:()=>!c&&i(!1),onTouchStart:()=>i(!0),onTouchEnd:()=>i(!1),children:Array(20).fill(t).flat().map((e,t)=>(0,r.jsx)("button",{onClick:()=>e0(e),className:"group flex-shrink-0 bg-neutral-50/50 dark:bg-neutral-800/50 backdrop-blur-sm rounded-xl p-3.5 text-left hover:bg-neutral-100 dark:hover:bg-neutral-700/70 transition-all duration-200 ease-out hover:scale-102 origin-center h-[52px] min-w-fit hover:shadow-lg border border-neutral-200/50 dark:border-neutral-700/50 hover:border-neutral-300 dark:hover:border-neutral-600",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 text-neutral-700 dark:text-neutral-300",children:[(0,r.jsx)("span",{className:"flex-shrink-0 transition-transform duration-200 group-hover:scale-110 group-hover:rotate-3",children:m(e.category)}),(0,r.jsx)("span",{className:"text-sm font-medium truncate max-w-[180px] group-hover:text-neutral-900 dark:group-hover:text-neutral-100",children:e.text})]})},"".concat(t,"-").concat(e.text)))})]})},e3=(0,o.useCallback)(e=>{g(e),N([]),eL({body:{model:e}})},[eL]),e8=(0,o.useCallback)(()=>{N([])},[]),e6=(0,o.useMemo)(()=>eS,[eS]),e9=(0,o.useMemo)(()=>(0,r.jsx)(e4,{trendingQueries:eb}),[eb]);return(0,r.jsxs)("div",{className:"flex flex-col !font-sans items-center justify-center p-2 sm:p-4 bg-background text-foreground transition-all duration-500",children:[(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-[60] flex justify-between items-center p-4 bg-white dark:bg-neutral-950 font-sans",children:[(0,r.jsx)(aC.default,{href:"/new",children:(0,r.jsxs)(L,{type:"button",variant:"secondary",className:"rounded-full bg-neutral-200 dark:bg-neutral-800 group transition-all hover:scale-105 pointer-events-auto",children:[(0,r.jsx)(S.Z,{size:18,className:"group-hover:rotate-90 transition-all"}),(0,r.jsx)("span",{className:"text-sm ml-2 group-hover:block hidden animate-in fade-in duration-300",children:"New"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(aC.default,{target:"_blank",href:"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fzaidmukaddam%2Fminiperplx&env=XAI_API_KEY,UPSTASH_REDIS_REST_URL,UPSTASH_REDIS_REST_TOKEN,AVIATION_STACK_API_KEY,SANDBOX_TEMPLATE_ID,TMDB_API_KEY,NEXT_PUBLIC_POSTHOG_KEY,NEXT_PUBLIC_POSTHOG_HOST,YT_ENDPOINT,EXA_API_KEY,TRIPADVISOR_API_KEY,BLOB_READ_WRITE_TOKEN,ELEVENLABS_API_KEY,AZURE_TRANSLATOR_LOCATION,AZURE_TRANSLATOR_KEY,AZURE_RESOURCE_NAME,AZURE_API_KEY,MAPBOX_ACCESS_TOKEN,NEXT_PUBLIC_MAPBOX_TOKEN,FIRECRAWL_API_KEY,TAVILY_API_KEY,OPENWEATHER_API_KEY,E2B_API_KEY,GOOGLE_MAPS_API_KEY,NEXT_PUBLIC_GOOGLE_MAPS_API_KEY&envDescription=All%20environment%20variables%20needed%20for%20application",className:"flex flex-row gap-2 items-center py-1.5 px-2 rounded-md text-neutral-950 bg-neutral-50 hover:bg-neutral-100 dark:bg-neutral-900 dark:text-zinc-50 dark:hover:bg-neutral-800 dark:shadow-sm shadow-none text-sm",children:[(0,r.jsx)(aV,{size:14}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Deploy with Vercel"}),(0,r.jsx)("span",{className:"sm:hidden block",children:"Deploy"})]}),(0,r.jsx)(tR,{children:(0,r.jsxs)(tA,{children:[(0,r.jsx)(tI,{asChild:!0,children:(0,r.jsxs)(L,{size:"sm",onClick:()=>window.open("https://github.com/sponsors/zaidmukaddam","_blank"),className:"flex items-center space-x-2 bg-red-100 dark:bg-red-900 shadow-none hover:bg-red-200 dark:hover:bg-red-800",children:[(0,r.jsx)(av.Z,{className:"h-4 w-4 text-red-500 dark:text-red-400"}),(0,r.jsx)("span",{className:"text-red-800 dark:text-red-200",children:"Sponsor"})]})}),(0,r.jsx)(tD,{className:"bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:(0,r.jsx)("p",{children:"Sponsor this project on GitHub"})})]})}),(0,r.jsx)(eI,{})]})]}),{}),(0,r.jsxs)("div",{className:"w-full max-w-[90%] !font-sans sm:max-w-2xl space-y-6 p-0 ".concat(d?"mt-16 sm:mt-20":"mt-[20vh] sm:mt-[25vh]"),children:[!d&&(0,r.jsxs)("div",{className:"text-center !font-sans",children:[(0,r.jsxs)(v,{onClick:()=>ex(!0),className:"cursor-pointer gap-1 mb-2 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",variant:"secondary",children:[(0,r.jsx)(ai.Z,{size:14})," What's new"]}),(0,r.jsx)("h1",{className:"text-4xl sm:text-6xl mb-3 text-neutral-800 dark:text-neutral-100 font-serif",children:"MiniPerplx"}),(0,r.jsxs)("div",{className:"flex flex-row items-center gap-1 justify-center text-center mx-auto !p-0 !m-0",children:[(0,r.jsx)("span",{className:"text-base text-neutral-500 dark:text-neutral-400",children:"Powered by"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 items-center justify-center",children:[(0,r.jsx)("a",{href:"https://vercel.com",target:"_blank",rel:"noopener noreferrer",className:"no-underline",children:(0,r.jsxs)(v,{variant:"secondary",className:"bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 rounded-full transition-colors shadow-none",children:[(0,r.jsx)(aV,{size:10}),(0,r.jsx)("span",{className:"ml-2 text-sm",children:"Vercel"})]})}),(0,r.jsx)("span",{className:"text-neutral-500 dark:text-neutral-400",children:"+"}),(0,r.jsx)("a",{href:"https://x.ai/api",target:"_blank",rel:"noopener noreferrer",className:"no-underline",children:(0,r.jsxs)(v,{variant:"secondary",className:"bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors rounded-full shadow-none",children:[(0,r.jsx)(aY,{size:12}),(0,r.jsx)("span",{className:"ml-2 text-sm",children:"xAI Grok"})]})})]})]})]}),(0,r.jsx)(k.M,{children:!d&&(0,r.jsxs)(_.E.div,{initial:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},children:[(0,r.jsx)(tm,{input:eC,setInput:eE,attachments:R,setAttachments:A,hasSubmitted:d,setHasSubmitted:c,isLoading:ek,handleSubmit:eZ,fileInputRef:P,inputRef:M,stop:eA,messages:e6,append:eT,selectedModel:h,setSelectedModel:e3,resetSuggestedQuestions:e8,lastSubmittedQueryRef:i,selectedGroup:F,setSelectedGroup:Y}),e9]})}),(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6 mb-32",children:[e6.map((e,t)=>{var a,s;return(0,r.jsxs)("div",{children:["user"===e.role&&(0,r.jsxs)(_.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-start space-x-2 mb-4",children:[(0,r.jsx)(aa.Z,{className:"size-5 text-primary flex-shrink-0 mt-1"}),(0,r.jsx)("div",{className:"flex-grow min-w-0",children:w&&Z===t?(0,r.jsxs)("form",{onSubmit:e5,className:"flex items-center space-x-2",children:[(0,r.jsx)(tf,{value:eC,onChange:e=>eE(e.target.value),className:"flex-grow bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"}),(0,r.jsx)(L,{variant:"secondary",size:"sm",type:"button",onClick:()=>{C(!1),z(-1),eE("")},disabled:ek,className:"bg-neutral-200 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200",children:(0,r.jsx)(T.Z,{size:16})}),(0,r.jsx)(L,{type:"submit",size:"sm",className:"bg-primary text-white",children:(0,r.jsx)(aw.Z,{size:16})})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xl font-medium font-sans break-words text-neutral-800 dark:text-neutral-200",children:e.content}),(0,r.jsx)("div",{className:"flex flex-row gap-2",children:null===(a=e.experimental_attachments)||void 0===a?void 0:a.map((e,t)=>(0,r.jsx)("div",{className:"mt-2",children:e.contentType.startsWith("image/")&&(0,r.jsx)("img",{src:e.url,alt:e.name||"Attachment ".concat(t+1),className:"max-w-full h-32 object-fill rounded-lg"})},t))})]})}),!w&&t===eW&&(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)(L,{variant:"ghost",size:"sm",onClick:()=>e2(t),className:"ml-2 text-neutral-500 dark:text-neutral-400",disabled:ek,children:(0,r.jsx)(ay.Z,{size:16})})})]}),"assistant"===e.role&&null!==e.content&&!e.toolInvocations&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(aN.Z,{className:"size-5 text-primary"}),(0,r.jsx)("h2",{className:"text-base font-semibold text-neutral-800 dark:text-neutral-200",children:"Answer"})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(eO,{text:e.content})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(eq,{content:e.content})})]}),null===(s=e.toolInvocations)||void 0===s?void 0:s.map((e,t)=>(0,r.jsx)("div",{children:eG(e,t)},"tool-".concat(t)))]},t)}),b.length>0&&(0,r.jsxs)(_.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:"w-full max-w-xl sm:max-w-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(ak.Z,{className:"w-5 h-5 text-primary"}),(0,r.jsx)("h2",{className:"font-semibold text-base text-neutral-800 dark:text-neutral-200",children:"Suggested questions"})]}),(0,r.jsx)("div",{className:"space-y-2 flex flex-col",children:b.map((e,t)=>(0,r.jsx)(L,{variant:"ghost",className:"w-fit font-medium rounded-2xl p-1 justify-start text-left h-auto py-2 px-4 bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 hover:bg-neutral-200 dark:hover:bg-neutral-700 whitespace-normal",onClick:()=>e1(e),children:e},t))})]})]}),(0,r.jsx)("div",{ref:f})]}),(0,r.jsx)(k.M,{children:d&&(0,r.jsx)(_.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:"fixed bottom-4 w-full max-w-[90%] sm:max-w-2xl",children:(0,r.jsx)(tm,{input:eC,setInput:eE,attachments:R,setAttachments:A,hasSubmitted:d,setHasSubmitted:c,isLoading:ek,handleSubmit:eZ,fileInputRef:P,inputRef:M,stop:eA,messages:eS,append:eT,selectedModel:h,setSelectedModel:e3,resetSuggestedQuestions:e8,lastSubmittedQueryRef:i,selectedGroup:F,setSelectedGroup:Y})})}),!d&&(0,r.jsx)(tR,{children:(0,r.jsxs)(_.E.footer,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5,delay:.2},className:"flex flex-row justify-between items-center w-full max-w-2xl bottom-3 fixed p-4 sm:p-auto",children:[(0,r.jsxs)("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["\xa9 ",new Date().getFullYear()," MiniPerplx"]}),(0,r.jsxs)(tA,{delayDuration:100,children:[(0,r.jsx)(tI,{children:(0,r.jsx)("a",{href:"https://x.com/zaidmukaddam",target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors text-neutral-600 dark:text-neutral-400",children:"@zaidmukaddam"})}),(0,r.jsx)(tD,{side:"top",sideOffset:5,className:"bg-neutral-800 dark:bg-neutral-900 text-neutral-100 px-3 py-2 text-xs font-medium rounded-xl shadow-lg border border-neutral-700/50",children:(0,r.jsx)("p",{className:"flex items-center gap-1.5",children:(0,r.jsxs)("span",{className:"flex gap-1",children:["Follow me on ",(0,r.jsx)(t2.S,{className:"size-4"})]})})})]})]})}),(0,r.jsx)(e=>{let{open:t,setOpen:a}=e,s=W("(max-width: 768px)"),l=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-full py-3 flex justify-center items-center border-b border-neutral-200 dark:border-neutral-700",children:(0,r.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2 text-neutral-800 dark:text-neutral-100",children:[(0,r.jsx)(ai.Z,{size:20})," What's new"]})}),(0,r.jsx)("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:eF.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(eX,{opts:{align:"start",loop:!0},plugins:[(0,t9.Z)({delay:2e3})],className:"w-full bg-neutral-100 dark:bg-neutral-800",children:(0,r.jsx)(e$,{children:e.images.map((t,a)=>(0,r.jsx)(eJ,{children:(0,r.jsx)(eu.default,{src:t,alt:e.title,width:0,height:0,className:"h-auto w-full object-cover",sizes:"100vw"})},a))})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 px-4 py-2",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-left text-neutral-800 dark:text-neutral-100",children:e.title}),(0,r.jsx)("div",{className:"overflow-y-auto max-h-[50vh]",children:(0,r.jsx)(aT.U,{components:{h2:e=>{let{node:t,className:a,...s}=e;return(0,r.jsx)("h2",{...s,className:(0,n.cn)("my-2 text-lg font-medium text-neutral-800 dark:text-neutral-100",a)})},p:e=>{let{node:t,className:a,...s}=e;return(0,r.jsx)("p",{...s,className:(0,n.cn)("mb-3 text-neutral-700 dark:text-neutral-300 leading-relaxed",a)})},a:e=>{let{node:t,className:a,...s}=e;return(0,r.jsx)("a",{...s,className:(0,n.cn)("hover:text-blue-500 underline",a)})}},className:"text-sm text-left pr-2",children:e.content})})]})]},e.id))})]});return s?(0,r.jsx)(es,{open:t,onOpenChange:a,children:(0,r.jsx)(ed,{className:"max-h-[100vh] z-[81] font-sans text-left",children:(0,r.jsx)(eo,{className:"p-0",children:(0,r.jsx)(l,{})})})}):(0,r.jsx)(J,{open:t,onOpenChange:a,children:(0,r.jsx)(et,{className:"max-h-[90vh] overflow-scroll rounded-xl border-none p-0 gap-0 font-sans bg-white dark:bg-neutral-900 z-[1000]",children:(0,r.jsx)(l,{})})})},{open:ei,setOpen:ex})]})},aB=()=>(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-white to-neutral-100 dark:from-neutral-900 dark:to-black",children:(0,r.jsx)("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-neutral-900/30 p-8 rounded-2xl border border-neutral-200/20 dark:border-neutral-700/20 shadow-xl",children:(0,r.jsxs)("div",{className:"text-center space-y-6",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-neutral-900 to-neutral-600 dark:from-white dark:to-neutral-400",children:"MiniPerplx"}),(0,r.jsxs)("p",{className:"text-base sm:text-lg text-neutral-600 dark:text-neutral-400",children:["Loading your minimalist AI experience",(0,r.jsx)("span",{className:"animate-pulse",children:"..."})]}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"h-1 w-32 mx-auto bg-neutral-200 dark:bg-neutral-800 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-primary w-1/2 animate-[loader_1s_ease-in-out_infinite] rounded-full"})})})]})})});var aH=()=>(0,r.jsxs)(o.Suspense,{fallback:(0,r.jsx)(aB,{}),children:[(0,r.jsx)(aG,{}),(0,r.jsx)(R,{})]})},3159:function(e,t,a){"use strict";a.d(t,{x:function(){return l}});var r=a(17532),s=a(5785);let l=(0,r.D)({client:{NEXT_PUBLIC_MAPBOX_TOKEN:s.z.string().min(1),NEXT_PUBLIC_POSTHOG_KEY:s.z.string().min(1),NEXT_PUBLIC_POSTHOG_HOST:s.z.string().min(1).url(),NEXT_PUBLIC_GOOGLE_MAPS_API_KEY:s.z.string().min(1)},runtimeEnv:{NEXT_PUBLIC_MAPBOX_TOKEN:"pk.eyJ1IjoiemFpZG11a2EiLCJhIjoiY20ybzlydGk1MDNrdTJpc2l6YnNuZmFveSJ9.2GxkFskJbsF2EBqOLIEXJg",NEXT_PUBLIC_POSTHOG_KEY:"phc_iy7AsVPrSER6rEqnru1DlRr1rIy0GVYRilMbTIGUYrK",NEXT_PUBLIC_POSTHOG_HOST:"https://us.i.posthog.com",NEXT_PUBLIC_GOOGLE_MAPS_API_KEY:"AIzaSyBDWn3i2lgCeb9GSDq9Ad_DjNmst4f8x0o"}})},48212:function(e,t,a){"use strict";a.d(t,{cn:function(){return o},t:function(){return c}});var r=a(47629),s=a(15906),l=a(89870),n=a(60753),i=a(68023),d=a(39061);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}let c=[{id:"web",name:"Web",description:"Search across the entire internet",icon:l.Z},{id:"x",name:"X",description:"Search X(Twitter) posts and content",icon:d.S},{id:"academic",name:"Academic",description:"Search academic papers and research",icon:n.Z},{id:"youtube",name:"YouTube",description:"Search YouTube videos in real-time",icon:i.Z}]}},function(e){e.O(0,[414,232,358,567,792,733,68,852,213,744],function(){return e(e.s=69932)}),_N_E=e.O()}]);